<!doctype html>
<html lang="en">
 <head>
  <meta name="google-site-verification" content="trUbiAws5Lv2dE2CHtuq6JfS-1FkAnkIL0XlUSLxA9M" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vibrant Impact Ministries - Raising Vibrant Believers for Kingdom Impact</title><!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
      box-sizing: border-box;
    }

    html {
      height: 100%;
      scroll-behavior: smooth;
    }

    /* Header Styles */
    header {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      color: white;
      padding: 20px 0;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      font-weight: bold;
      color: white;
      overflow: hidden;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .church-name {
      display: flex;
      flex-direction: column;
    }

    .church-name h1 {
      font-size: 1.8em;
      margin-bottom: 3px;
      color: #60a5fa;
    }

    .church-name p {
      font-size: 0.9em;
      color: rgba(255, 255, 255, 0.9);
      font-style: italic;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .user-badge {
      background: rgba(96, 165, 250, 0.2);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      color: #60a5fa;
      border: 2px solid #60a5fa;
    }

    .admin-badge {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
      border-color: #fbbf24;
    }

    /* Navigation */
    nav {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px 0;
      backdrop-filter: blur(10px);
      position: relative;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: flex-end;
      position: relative;
    }

    .menu-toggle {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
      border: none;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      font-weight: 700;
      transition: all 0.3s;
      box-shadow: 0 3px 12px rgba(96, 165, 250, 0.3);
      display: flex;
      flex-direction: column;
      gap: 3px;
      width: 32px;
      height: 32px;
      align-items: center;
      justify-content: center;
    }

    .menu-toggle .hamburger-line {
      width: 18px;
      height: 2px;
      background: white;
      border-radius: 2px;
      transition: all 0.3s;
    }

    .menu-toggle:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(96, 165, 250, 0.5);
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      min-width: 200px;
      margin-top: 8px;
      display: none;
      z-index: 1000;
      overflow: hidden;
    }

    .dropdown-menu.active {
      display: block;
      animation: dropdownSlide 0.3s ease;
    }

    @keyframes dropdownSlide {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .dropdown-menu button {
      width: 100%;
      background: white;
      color: #1e3a8a;
      border: none;
      padding: 10px 15px;
      text-align: left;
      cursor: pointer;
      font-size: 0.9em;
      font-weight: 600;
      transition: all 0.3s;
      border-bottom: 1px solid #e5e7eb;
    }

    .dropdown-menu button:last-child {
      border-bottom: none;
    }

    .dropdown-menu button:hover {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      color: #1e40af;
      padding-left: 25px;
    }

    .dropdown-menu button.active {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* Section Styles */
    .section {
      display: none;
      animation: fadeIn 0.5s;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, rgba(30, 58, 138, 0.3) 0%, rgba(30, 64, 175, 0.4) 50%, rgba(30, 58, 138, 0.3) 100%), 
                  url('https://lh3.googleusercontent.com/d/1exCpQcpobaYeFM3LJx8EwrdCPYbmy_wy') center/cover no-repeat;
      color: white;
      padding: 60px 30px;
      border-radius: 20px;
      text-align: center;
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(30, 58, 138, 0.3);
    }

    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(96, 165, 250, 0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero h2 {
      font-size: 3em;
      margin-bottom: 20px;
      color: #60a5fa;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .hero p {
      font-size: 1.3em;
      margin-bottom: 15px;
      line-height: 1.8;
    }

    .slogan {
      font-size: 1.5em;
      font-weight: 700;
      color: #60a5fa;
      margin: 25px 0;
      font-style: italic;
    }

    .bible-verse {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 12px;
      margin: 25px 0;
      border-left: 5px solid #60a5fa;
    }

    .bible-verse p {
      font-size: 1.2em;
      font-style: italic;
    }

    .bible-verse span {
      display: block;
      margin-top: 10px;
      color: #60a5fa;
      font-weight: 600;
    }

    /* Buttons */
    .btn-group {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .btn {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
      border: none;
      padding: 15px 35px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1.1em;
      font-weight: 700;
      transition: all 0.3s;
      box-shadow: 0 6px 20px rgba(96, 165, 250, 0.4);
      text-decoration: none;
      display: inline-block;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 30px rgba(96, 165, 250, 0.6);
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    .btn-secondary {
      background: white;
      color: #1e3a8a;
    }

    .btn-secondary:hover {
      background: #f3f4f6;
    }

    /* Events Grid */
    .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .event-card {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      color: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(30, 58, 138, 0.3);
      transition: transform 0.3s, box-shadow 0.3s;
      border: 2px solid #60a5fa;
    }

    .event-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 35px rgba(30, 58, 138, 0.5);
    }

    .event-card h3 {
      color: #60a5fa;
      font-size: 1.6em;
      margin-bottom: 15px;
    }

    .event-card p {
      font-size: 1.1em;
      line-height: 1.8;
    }

    .event-time {
      background: rgba(96, 165, 250, 0.2);
      padding: 10px;
      border-radius: 8px;
      margin-top: 15px;
      font-weight: 600;
      color: #60a5fa;
    }

    /* Content Card */
    .content-card {
      background: white;
      padding: 35px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
      border-top: 5px solid #60a5fa;
    }

    .content-card h2 {
      color: #1e3a8a;
      font-size: 2.2em;
      margin-bottom: 20px;
      border-bottom: 3px solid #60a5fa;
      padding-bottom: 15px;
    }

    .content-card h3 {
      color: #1e3a8a;
      font-size: 1.7em;
      margin: 25px 0 15px;
    }

    .content-card p {
      font-size: 1.1em;
      line-height: 1.9;
      margin-bottom: 15px;
      color: #4b5563;
    }

    /* Services List */
    .services-list {
      display: grid;
      gap: 20px;
      margin-top: 30px;
    }

    .service-item {
      background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
      padding: 25px;
      border-radius: 12px;
      border-left: 5px solid #60a5fa;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .service-item:hover {
      transform: translateX(10px);
      box-shadow: 0 6px 25px rgba(30, 58, 138, 0.2);
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    }

    .service-item h3 {
      color: #1e3a8a;
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .service-item .time {
      color: #60a5fa;
      font-weight: 700;
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    .service-item p {
      color: #6b7280;
      line-height: 1.8;
    }

    /* Account Details */
    .account-box {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      color: white;
      padding: 35px;
      border-radius: 15px;
      margin: 30px 0;
      box-shadow: 0 8px 25px rgba(30, 58, 138, 0.3);
      border: 3px solid #60a5fa;
    }

    .account-box h3 {
      color: #fbbf24;
      font-size: 1.8em;
      margin-bottom: 20px;
      text-align: center;
    }

    .account-details {
      background: white;
      padding: 25px;
      border-radius: 10px;
      margin: 15px 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .account-details p {
      font-size: 1.2em;
      margin: 12px 0;
      color: #1e293b;
    }

    .account-details strong {
      color: #0f172a;
      font-size: 1.1em;
      font-weight: 800;
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #1e3a8a;
      font-weight: 700;
      font-size: 1.1em;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 15px;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #60a5fa;
      box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.1);
    }

    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }

    /* Video Gallery */
    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }

    .video-card {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      border: 2px solid #e5e7eb;
      position: relative;
    }

    .video-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 35px rgba(30, 58, 138, 0.2);
      border-color: #60a5fa;
    }

    .video-placeholder {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 4em;
      position: relative;
      cursor: pointer;
    }

    .download-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(96, 165, 250, 0.9);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      z-index: 10;
    }

    .download-btn:hover {
      background: #3b82f6;
      transform: scale(1.05);
    }

    .video-content {
      padding: 25px;
    }

    .video-content h3 {
      color: #1e3a8a;
      font-size: 1.5em;
      margin-bottom: 12px;
    }

    .video-content p {
      color: #6b7280;
      line-height: 1.7;
    }

    /* Contact Info */
    .contact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .contact-card {
      background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      border-top: 5px solid #60a5fa;
    }

    .contact-card .icon {
      font-size: 3.5em;
      margin-bottom: 15px;
      color: #1e3a8a;
    }

    .contact-card h3 {
      color: #1e3a8a;
      font-size: 1.5em;
      margin-bottom: 15px;
    }

    .contact-card p, .contact-card a {
      color: #4b5563;
      font-size: 1.1em;
      text-decoration: none;
      line-height: 1.8;
    }

    .contact-card a:hover {
      color: #60a5fa;
      text-decoration: underline;
    }

    /* Social Media */
    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .social-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8em;
      color: white;
      text-decoration: none;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .social-btn:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .facebook { background: #1877f2; }
    .youtube { background: #ff0000; }
    .tiktok { background: #000000; }
    .twitch { background: #9146ff; }
    .whatsapp { background: #25d366; }

    /* Prophet Bio */
    .prophet-bio {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 30px;
      align-items: start;
      margin-top: 30px;
    }

    .prophet-photo {
      width: 250px;
      height: 250px;
      border-radius: 15px;
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 6em;
      color: white;
      box-shadow: 0 8px 25px rgba(96, 165, 250, 0.4);
    }

    .prophet-info h3 {
      color: #1e3a8a;
      font-size: 2em;
      margin-bottom: 15px;
    }

    .prophet-info p {
      font-size: 1.1em;
      line-height: 1.9;
      color: #4b5563;
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #1e3a8a;
      color: white;
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      z-index: 2000;
      animation: slideIn 0.4s;
      border-left: 5px solid #60a5fa;
      max-width: 400px;
    }

    .toast.success {
      background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    }

    .toast.error {
      background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Auth Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 40px;
      border-radius: 20px;
      max-width: 500px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #ef4444;
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2em;
      font-weight: bold;
      transition: all 0.3s;
    }

    .modal-close:hover {
      background: #dc2626;
      transform: scale(1.1);
    }

    .tab-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
    }

    .tab-btn {
      flex: 1;
      padding: 12px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      color: #6b7280;
      transition: all 0.3s;
    }

    .tab-btn.active {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
      border-color: #3b82f6;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        text-align: center;
      }

      .church-name h1 {
        font-size: 1.4em;
      }

      .hero h2 {
        font-size: 2em;
      }

      .hero p {
        font-size: 1.1em;
      }

      .dropdown-menu {
        left: 20px;
        right: 20px;
        transform: none;
        min-width: auto;
        width: calc(100% - 40px);
      }

      @keyframes dropdownSlide {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .btn-group {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }

      .prophet-bio {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .prophet-photo {
        margin: 0 auto;
      }

      .video-grid {
        grid-template-columns: 1fr;
      }

      .contact-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Footer */
    footer {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      color: white;
      padding: 40px 20px;
      text-align: center;
      margin-top: 60px;
    }

    footer p {
      font-size: 1.1em;
      margin: 10px 0;
    }

    footer .slogan {
      color: #60a5fa;
      font-size: 1.3em;
      font-style: italic;
      margin: 20px 0;
    }

    .login-link {
      color: #60a5fa;
      cursor: pointer;
      text-decoration: underline;
      font-weight: 600;
    }

    .login-link:hover {
      color: #3b82f6;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <header>
   <div class="header-content">
    <div class="logo-section">
     <div class="logo" id="logoContainer"><img id="churchLogo" src="https://lh3.googleusercontent.com/d/1gSxOTrUO0aM1NJmJpikEQqk9LhtTCVJ1" alt="VIM Logo" style="width: 100%; height: 100%; object-fit: contain; display: block;" onerror="this.style.display='none'; document.getElementById('logoText').style.display='block';"> <span id="logoText" style="display: none;">VIM</span>
     </div>
     <div class="church-name">
      <h1>Vibrant Impact Ministries</h1>
      <p>Akure, Ondo State, Nigeria</p>
     </div>
    </div>
    <div class="user-info" id="userInfo"><!-- User info will be dynamically inserted here -->
    </div>
   </div>
   <nav>
    <div class="nav-container"><button class="menu-toggle" onclick="toggleMenu()"> <span class="hamburger-line"></span> <span class="hamburger-line"></span> <span class="hamburger-line"></span> </button>
     <div class="dropdown-menu" id="dropdownMenu"><button class="nav-btn active" onclick="showSection('home')">üè† Home</button> <button class="nav-btn" onclick="showSection('about')">‚ÑπÔ∏è About Us</button> <button class="nav-btn" onclick="showSection('services')">üìÖ Services</button> <button class="nav-btn" onclick="showSection('giving')">üíù Giving</button> <button class="nav-btn" onclick="showSection('media')">üé• Media</button> <button class="nav-btn" onclick="showSection('prayer')">üôè Prayer</button> <button class="nav-btn" onclick="showSection('partner')">ü§ù Partner With Us</button> <button class="nav-btn" onclick="showSection('contact')">üìû Contact</button> <button class="nav-btn" id="authNavBtn" onclick="openAuthModal()">üîê Login/Sign Up</button> <button class="nav-btn" onclick="openAdminModal()" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: #78350f;">üëë Admin Login</button> <button class="nav-btn" id="adminSettingsBtn" onclick="handleAdminSettingsClick()" style="display: none; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: #78350f;">‚öôÔ∏è Admin Settings</button>
     </div>
    </div>
   </nav>
  </header><!-- Admin Login Modal -->
  <div class="modal-overlay" id="adminModal">
   <div class="modal-content"><button class="modal-close" onclick="closeAdminModal()">√ó</button>
    <h2 style="color: #f59e0b; text-align: center; margin-bottom: 10px;">üëë Admin Login</h2>
    <p style="text-align: center; color: #78350f; margin-bottom: 30px; font-size: 0.95em;">Authorized administrators only</p>
    <form id="adminLoginForm" onsubmit="handleAdminLogin(event)">
     <div class="form-group"><label for="adminEmail">Admin Email: *</label> <input type="email" id="adminEmail" required placeholder="Enter your admin email">
     </div>
     <div class="form-group"><label for="adminPassword">Password: *</label> <input type="password" id="adminPassword" required placeholder="Enter your password">
     </div>
     <div style="background: #fef3c7; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #f59e0b;">
      <p style="color: #78350f; font-size: 0.9em; margin: 0;">‚ö†Ô∏è <strong>Authorized Admins Only:</strong><br>
        ‚Ä¢ eiweh123@gmail.com<br>
        ‚Ä¢ vibrantchannel286@gmail.com</p>
     </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üëë Login as Admin</button>
    </form>
   </div>
  </div><!-- Edit Account Modal -->
  <div class="modal-overlay" id="editAccountModal">
   <div class="modal-content"><button class="modal-close" onclick="closeEditAccountModal()">√ó</button>
    <h2 style="color: #1e3a8a; text-align: center; margin-bottom: 20px;">‚úèÔ∏è Edit Account Details</h2>
    <form id="editAccountForm" onsubmit="handleEditAccount(event)">
     <div class="form-group"><label for="editName">Full Name: *</label> <input type="text" id="editName" required>
     </div>
     <div class="form-group"><label for="editPhone">Phone Number: *</label> <input type="tel" id="editPhone" required>
     </div>
     <div class="form-group"><label for="editEmail">Email Address:</label> <input type="email" id="editEmail" disabled style="background: #f3f4f6; cursor: not-allowed;"> <small style="display: block; margin-top: 5px; color: #6b7280;">Email cannot be changed</small>
     </div><button type="submit" class="btn" style="width: 100%;">üíæ Save Changes</button>
    </form>
   </div>
  </div><!-- Auth Modal -->
  <div class="modal-overlay" id="authModal">
   <div class="modal-content"><button class="modal-close" onclick="closeAuthModal()">√ó</button>
    <h2 style="color: #1e3a8a; text-align: center; margin-bottom: 20px;">Welcome to VIM</h2>
    <div class="tab-buttons"><button class="tab-btn active" onclick="switchAuthTab('login')">Login</button> <button class="tab-btn" onclick="switchAuthTab('signup')">Sign Up</button>
    </div><!-- Login Form -->
    <form id="loginForm" style="display: block;" onsubmit="handleLogin(event)">
     <div class="form-group"><label for="loginEmail">Email: *</label> <input type="email" id="loginEmail" required>
     </div>
     <div class="form-group"><label for="loginPassword">Password: *</label> <input type="password" id="loginPassword" required>
     </div><button type="submit" class="btn" style="width: 100%;">üîê Login</button>
    </form><!-- Sign Up Form -->
    <form id="signupForm" style="display: none;" onsubmit="handleSignup(event)">
     <div class="form-group"><label for="signupName">Full Name: *</label> <input type="text" id="signupName" required>
     </div>
     <div class="form-group"><label for="signupEmail">Email: *</label> <input type="email" id="signupEmail" required>
     </div>
     <div class="form-group"><label for="signupPhone">Phone Number: *</label> <input type="tel" id="signupPhone" required>
     </div>
     <div class="form-group"><label for="signupPassword">Password: *</label> <input type="password" id="signupPassword" required minlength="6">
     </div>
     <div class="form-group"><label for="confirmPassword">Confirm Password: *</label> <input type="password" id="confirmPassword" required minlength="6">
     </div><button type="submit" class="btn" style="width: 100%;">‚úÖ Sign Up</button>
    </form>
   </div>
  </div>
  <main class="container"><!-- HOME SECTION -->
   <section id="home" class="section active">
    <div class="hero">
     <div class="hero-content">
      <h2>Welcome to Vibrant Impact Ministries</h2>
      <p>A prophetic and teaching church in Akure, Nigeria</p>
      <p class="slogan">"Raising Vibrant Believers for Kingdom Impact"</p>
      <div class="bible-verse">
       <p>"Not by might, nor by power, but by my Spirit, says the LORD of hosts."</p><span>- Zechariah 4:6</span>
      </div>
      <div class="btn-group"><button class="btn" onclick="showSection('services')">üìÖ Service Days</button> <button class="btn" onclick="showSection('giving')">üíù Give Online</button> <button class="btn" onclick="showSection('media')">üé• Watch Live</button> <a href="https://chat.whatsapp.com/your-group-link" target="_blank" rel="noopener noreferrer" class="btn" style="background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);"> üí¨ Join WhatsApp Group </a>
      </div>
     </div>
    </div><!-- Live Streaming Alert on Home Page (Hidden by default) -->
    <div id="homeLiveAlert" style="display: none; background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); padding: 30px; border-radius: 20px; margin-bottom: 40px; text-align: center; border: 3px solid #fca5a5; box-shadow: 0 8px 30px rgba(220, 38, 38, 0.4); animation: pulse 2s ease-in-out infinite;">
     <h3 style="color: white; font-size: 2.2em; margin-bottom: 15px;">üî¥ WE ARE LIVE NOW!</h3>
     <p style="color: white; font-size: 1.3em; margin-bottom: 25px;">Join us for live worship and teaching!</p>
     <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"><button onclick="showLiveStreamOnHome('youtube')" class="btn" style="background: #ff0000; font-size: 1.1em; padding: 15px 30px;">üì∫ Watch on YouTube</button> <button onclick="showLiveStreamOnHome('facebook')" class="btn" style="background: #1877f2; font-size: 1.1em; padding: 15px 30px;">üìò Watch on Facebook</button> <button onclick="showLiveStreamOnHome('tiktok')" class="btn" style="background: #000000; font-size: 1.1em; padding: 15px 30px;">üéµ Watch on TikTok</button>
     </div>
     <div id="homeLiveStreamContainer" style="display: none; margin-top: 30px;">
      <div style="background: white; padding: 25px; border-radius: 15px;">
       <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h4 id="homeLiveStreamTitle" style="color: #1e3a8a; margin: 0; font-size: 1.3em;">Live Stream</h4><button onclick="closeHomeLiveStream()" style="background: #dc2626; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 1em;">‚úñ Close</button>
       </div>
       <div id="homeLiveStreamEmbed"></div>
       <p style="color: #6b7280; margin-top: 15px; font-size: 1em;" id="homeLiveStreamNote"></p>
      </div>
     </div>
    </div>
    <style>
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            box-shadow: 0 8px 30px rgba(220, 38, 38, 0.4);
          }
          50% {
            transform: scale(1.02);
            box-shadow: 0 12px 40px rgba(220, 38, 38, 0.6);
          }
        }
      </style>
    <h2 style="color: #1e3a8a; font-size: 2.5em; text-align: center; margin: 40px 0 30px;">Upcoming Events</h2>
    <div class="events-grid">
     <div class="event-card">
      <h3>üåü Sunday Glory Service</h3>
      <p>Join us for powerful worship, prophetic ministry, and life-transforming teachings every Sunday morning.</p>
      <div class="event-time">
       ‚è∞ Sundays at 9:00 AM
      </div>
     </div>
     <div class="event-card">
      <h3>üî• Fire Night</h3>
      <p>An intense night of worship, prayer, and encountering God's presence. Experience breakthrough and divine encounters.</p>
      <div class="event-time">
       ‚è∞ Last Friday of the Month at 10:00 PM
      </div>
      <div id="fireNightCountdown" style="background: rgba(255, 255, 255, 0.15); padding: 15px; border-radius: 10px; margin-top: 15px; text-align: center;">
       <p style="font-size: 0.9em; margin-bottom: 10px; color: #fbbf24;">‚è≥ Next Fire Night in:</p>
       <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
        <div style="background: rgba(251, 191, 36, 0.2); padding: 10px 15px; border-radius: 8px; min-width: 60px;">
         <div id="fireNightDays" style="font-size: 1.8em; font-weight: bold; color: #fbbf24;">
          --
         </div>
         <div style="font-size: 0.8em; color: #60a5fa;">
          Days
         </div>
        </div>
        <div style="background: rgba(251, 191, 36, 0.2); padding: 10px 15px; border-radius: 8px; min-width: 60px;">
         <div id="fireNightHours" style="font-size: 1.8em; font-weight: bold; color: #fbbf24;">
          --
         </div>
         <div style="font-size: 0.8em; color: #60a5fa;">
          Hours
         </div>
        </div>
        <div style="background: rgba(251, 191, 36, 0.2); padding: 10px 15px; border-radius: 8px; min-width: 60px;">
         <div id="fireNightMinutes" style="font-size: 1.8em; font-weight: bold; color: #fbbf24;">
          --
         </div>
         <div style="font-size: 0.8em; color: #60a5fa;">
          Minutes
         </div>
        </div>
        <div style="background: rgba(251, 191, 36, 0.2); padding: 10px 15px; border-radius: 8px; min-width: 60px;">
         <div id="fireNightSeconds" style="font-size: 1.8em; font-weight: bold; color: #fbbf24;">
          --
         </div>
         <div style="font-size: 0.8em; color: #60a5fa;">
          Seconds
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="event-card">
      <h3>üéâ Glory &amp; Celebration Service</h3>
      <p>Celebrate God's faithfulness with testimonies, praise, and thanksgiving. Come and share your testimony!</p>
      <div class="event-time">
       ‚è∞ Special Sundays (Check Schedule)
      </div>
     </div>
    </div>
   </section><!-- ABOUT SECTION -->
   <section id="about" class="section">
    <div class="content-card">
     <h2>About Vibrant Impact Ministries</h2>
     <h3>Our Story</h3>
     <p id="churchStoryContent">Vibrant Impact Ministries was established in 2020 with a divine mandate to raise vibrant believers who will make a lasting impact in the Kingdom of God. Since our inception, we have been committed to teaching the uncompromised Word of God, operating in prophetic ministry, and equipping believers for supernatural living.</p>
     <p id="churchStoryContent2">Located in Akure, Ondo State, Nigeria, we are a growing community of believers passionate about God's presence, His Word, and making a difference in our generation.</p>
     <h3>Our Vision</h3>
     <p id="churchVisionContent">To raise a generation of vibrant believers who are grounded in the Word of God, empowered by the Holy Spirit, and committed to making a kingdom impact in their spheres of influence.</p>
     <h3>Our Mission</h3>
     <p id="churchMissionContent">To teach the Word of God with accuracy and power, to operate in prophetic ministry, to equip believers for ministry and marketplace excellence, and to raise leaders who will transform their communities through the gospel of Jesus Christ.</p>
     <h3>What We Believe</h3>
     <p><strong>‚Ä¢ The Bible:</strong> We believe the Bible is the inspired and infallible Word of God, our final authority for faith and practice.</p>
     <p><strong>‚Ä¢ Salvation:</strong> We believe in salvation through faith in Jesus Christ alone, His death, burial, and resurrection.</p>
     <p><strong>‚Ä¢ The Holy Spirit:</strong> We believe in the baptism of the Holy Spirit with evidence of speaking in tongues and the manifestation of spiritual gifts.</p>
     <p><strong>‚Ä¢ Prophetic Ministry:</strong> We believe God still speaks today through prophets and prophecy to guide, encourage, and edify His church.</p>
     <p><strong>‚Ä¢ Kingdom Living:</strong> We believe believers are called to live as ambassadors of Christ, demonstrating His love, power, and wisdom in every area of life.</p>
    </div>
    <div class="content-card">
     <h2>Our Leadership</h2>
     <div class="prophet-bio">
      <div class="prophet-photo"><img src="https://lh3.googleusercontent.com/d/19iPQ2uK4vDTMBCeXxDt03GvMnn2h-C_a" alt="Prophet Valentine Ifedayo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;" onerror="this.style.display='none'; this.parentElement.innerHTML='üë§'">
      </div>
      <div class="prophet-info">
       <h3>Prophet Valentine Ifedayo</h3>
       <p><strong>Senior Pastor &amp; Founder</strong></p>
       <p>Prophet Valentine Ifedayo is a passionate teacher of God's Word and a prophetic voice to this generation. With a heart for seeing believers walk in their God-given potential, he has dedicated his life to equipping the saints for ministry and marketplace excellence.</p>
       <p>Under his leadership, Vibrant Impact Ministries has grown into a vibrant community where believers encounter God's presence, receive accurate teaching, and are empowered to make an impact in their world.</p>
       <p>Prophet Valentine is known for his practical teaching style, prophetic accuracy, and genuine love for God's people. He is committed to raising leaders who will transform their communities through the power of the gospel.</p>
      </div>
     </div>
    </div>
   </section><!-- SERVICES SECTION -->
   <section id="services" class="section">
    <div class="content-card">
     <h2>Our Weekly Services &amp; Programs</h2>
     <p>Join us for life-transforming services throughout the week. Everyone is welcome!</p>
     <div class="services-list">
      <div class="service-item">
       <h3>üåü Sunday Glory Service</h3>
       <div class="time">
        ‚è∞ Sundays at 9:00 AM
       </div>
       <p>Our main worship service featuring powerful praise and worship, prophetic ministry, life-applicable teaching from God's Word, and corporate prayer. This is a family-friendly service where all ages are welcome to encounter God's presence.</p>
      </div>
      <div class="service-item">
       <h3>‚ú® Tuesday Deliverance &amp; Counselling</h3>
       <div class="time">
        ‚è∞ Tuesdays at 9:00 AM
       </div>
       <p>A special service dedicated to inner healing, deliverance from spiritual bondages, and biblical counselling. Receive prayer and ministry for breakthrough in every area of your life. Private counselling sessions are also available by appointment.</p>
      </div>
      <div class="service-item">
       <h3>üôè Tuesday Online Prayer</h3>
       <div class="time">
        ‚è∞ Tuesdays at 6:00 PM
       </div>
       <p>Join us online for an hour of powerful intercessory prayer. We pray for personal needs, national issues, and global concerns. Connect with us via our social media platforms for the prayer link.</p>
      </div>
      <div class="service-item">
       <h3>üéØ Friday Youth Fellowship</h3>
       <div class="time">
        ‚è∞ Fridays at 4:00 PM
       </div>
       <p>A dynamic gathering for teenagers and young adults featuring contemporary worship, relevant teaching, fun activities, and authentic community. This is a safe space for young people to grow in their faith and build lasting friendships.</p>
      </div>
      <div class="service-item">
       <h3>üìñ Friday Bible Study</h3>
       <div class="time">
        ‚è∞ Fridays at 6:00 PM
       </div>
       <p>Deep dive into the Scriptures with systematic Bible teaching, group discussions, and practical application. Grow in your understanding of God's Word and how to apply it to everyday life. All are welcome to join us for this enriching study time.</p>
      </div>
      <div class="service-item">
       <h3>üî• Last Friday Fire Night</h3>
       <div class="time">
        ‚è∞ Last Friday of Every Month at 10:00 PM
       </div>
       <p>An all-night encounter service filled with intense worship, prophetic ministry, prayer, and supernatural manifestations. Come expecting miracles, breakthroughs, and fresh encounters with God. This service runs until the early morning hours.</p>
      </div>
      <div class="service-item">
       <h3>üíé Saturday Partners Prayer &amp; Fasting</h3>
       <div class="time">
        ‚è∞ Saturdays at 6:00 PM
       </div>
       <p>A special gathering for ministry partners and intercessors. We fast and pray together for the vision of the ministry, personal needs, and kingdom advancement. Learn more about becoming a partner and join this powerful prayer team.</p>
      </div>
     </div>
    </div>
   </section><!-- GIVING SECTION -->
   <section id="giving" class="section">
    <div class="content-card">
     <h2>Partnership &amp; Giving</h2>
     <p style="font-size: 1.2em; text-align: center; color: #1e3a8a; margin: 20px 0;"><em>"Your giving helps us spread the Gospel and impact lives for eternity."</em></p>
     <div class="account-box">
      <h3>üí≥ Give Online</h3>
      <p style="text-align: center; margin-bottom: 20px;">Make a secure donation using PayPal, debit or credit card</p>
      <div class="btn-group"><a href="https://www.paypal.me/Funmzyanie" target="_blank" rel="noopener noreferrer" class="btn">üíô Give via PayPal</a> <a href="https://paystack.com" target="_blank" rel="noopener noreferrer" class="btn">Pay with Paystack</a> <a href="https://flutterwave.com" target="_blank" rel="noopener noreferrer" class="btn">Pay with Flutterwave</a>
      </div>
      <p style="text-align: center; margin-top: 15px; font-size: 0.95em; opacity: 0.9;">‚ö° Instant ‚Ä¢ üîí Secure ‚Ä¢ üåç Available Worldwide</p>
     </div>
     <div class="account-box">
      <h3>üè¶ Bank Transfer Details</h3>
      <div class="account-details">
       <p><strong>Bank Name:</strong> United Bank for Africa (UBA)</p>
       <p><strong>Account Number:</strong> 1025522432</p>
       <p><strong>Account Name:</strong> Valentine Ifedayo Ministries</p>
      </div>
      <p style="text-align: center; margin-top: 15px; font-size: 0.95em;">Please send proof of payment to: <a href="mailto:pastorvalentineifedayo@gmail.com" style="color: #60a5fa;">pastorvalentineifedayo@gmail.com</a></p>
     </div>
     <div class="content-card" style="background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%); border-top: 5px solid #60a5fa;">
      <h3 style="color: #1e3a8a; text-align: center;">Why Give?</h3>
      <p>Your generous giving enables us to:</p>
      <ul style="margin-left: 30px; font-size: 1.1em; line-height: 2; color: #4b5563;">
       <li>‚úÖ Spread the Gospel through evangelism and outreach programs</li>
       <li>‚úÖ Provide quality teaching and prophetic ministry</li>
       <li>‚úÖ Support our youth and children's ministry programs</li>
       <li>‚úÖ Reach the unreached with the love of Christ</li>
       <li>‚úÖ Equip believers for ministry and marketplace excellence</li>
       <li>‚úÖ Support community development initiatives</li>
      </ul>
      <p style="text-align: center; margin-top: 25px; font-size: 1.15em; color: #1e3a8a; font-weight: 600;">"Give, and it will be given to you. A good measure, pressed down, shaken together and running over..." - Luke 6:38</p>
     </div>
    </div>
   </section><!-- MEDIA SECTION -->
   <section id="media" class="section">
    <div class="content-card">
     <h2>Media Gallery</h2>
     <p>Watch our latest sermons, teachings, and event highlights. New content added regularly!</p><!-- Live Streaming Section (Hidden by default) -->
     <div id="mediaLiveAlert" style="display: none; background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); padding: 30px; border-radius: 20px; margin-bottom: 40px; text-align: center; border: 3px solid #fca5a5; box-shadow: 0 8px 30px rgba(220, 38, 38, 0.4);">
      <h3 style="color: white; font-size: 2em; margin-bottom: 15px;">üî¥ LIVE STREAMING</h3>
      <p style="color: white; font-size: 1.2em; margin-bottom: 25px;">Watch our services live as they happen!</p>
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px;"><button onclick="showLiveStream('youtube')" class="btn" style="background: #ff0000;">üì∫ YouTube Live</button> <button onclick="showLiveStream('facebook')" class="btn" style="background: #1877f2;">üìò Facebook Live</button> <button onclick="showLiveStream('tiktok')" class="btn" style="background: #000000;">üéµ TikTok Live</button>
      </div>
      <div id="liveStreamContainer" style="display: none; margin-top: 25px;">
       <div style="background: white; padding: 20px; border-radius: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
         <h4 id="liveStreamTitle" style="color: #1e3a8a; margin: 0;">Live Stream</h4><button onclick="closeLiveStream()" style="background: #dc2626; color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600;">‚úñ Close</button>
        </div>
        <div id="liveStreamEmbed"></div>
        <p style="color: #6b7280; margin-top: 15px; font-size: 0.95em;" id="liveStreamNote"></p>
       </div>
      </div>
     </div>
     <h3 style="margin-top: 40px;">üé• Recent Sermons</h3>
     <div class="video-grid" id="recentSermonsGrid">
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Sunday Service Message</h3>
        <p>Latest teaching from our Sunday Glory Service. Watch and be blessed!</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Prophetic Word</h3>
        <p>Powerful prophetic ministry and word for this season.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Teaching Series</h3>
        <p>In-depth Bible study and teaching on relevant topics.</p>
       </div>
      </div>
     </div>
     <h3 style="margin-top: 40px;">üî• Fire Night Highlights</h3>
     <div class="video-grid" id="fireNightGrid">
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Fire Night Worship</h3>
        <p>Experience the atmosphere of worship from our Fire Night service.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Testimonies &amp; Miracles</h3>
        <p>Watch testimonies of God's faithfulness and miraculous interventions.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Prophetic Ministry</h3>
        <p>Powerful prophetic ministry from our Fire Night gathering.</p>
       </div>
      </div>
     </div>
     <h3 style="margin-top: 40px;">üéØ Youth Fellowship Clips</h3>
     <div class="video-grid" id="youthFellowshipGrid">
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Youth Worship</h3>
        <p>Dynamic worship and praise from our youth fellowship.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Youth Teaching</h3>
        <p>Relevant teaching for young people navigating faith and life.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üé•
       </div>
       <div class="video-content">
        <h3>Youth Activities</h3>
        <p>Fun moments and activities from our youth fellowship.</p>
       </div>
      </div>
     </div>
     <h3 style="margin-top: 40px;">üì∏ Church Photos</h3>
     <div class="video-grid" id="churchPhotosGrid">
      <div class="video-card">
       <div class="video-placeholder">
        üì∑
       </div>
       <div class="video-content">
        <h3>Church Building</h3>
        <p>Our beautiful church facility at Ughele Junction, Akure.</p>
       </div>
      </div>
      <div class="video-card">
       <div class="video-placeholder">
        üì∑
       </div>
       <div class="video-content">
        <h3>Worship Service</h3>
        <p>Moments from our vibrant worship services.</p>
       </div>
      </div>
     </div>
     <h3 style="margin-top: 40px;">üéâ Events &amp; Celebrations</h3>
     <div class="video-grid" id="eventsGrid">
      <div class="video-card">
       <div class="video-placeholder">
        üì∑
       </div>
       <div class="video-content">
        <h3>Special Events</h3>
        <p>Photos from our special church events and celebrations.</p>
       </div>
      </div>
     </div>
    </div>
   </section><!-- PRAYER SECTION -->
   <section id="prayer" class="section">
    <div class="content-card">
     <h2>Prayer &amp; Counselling</h2>
     <p style="font-size: 1.2em; text-align: center; margin-bottom: 30px;">We believe in the power of prayer. Let us pray with you and for you.</p>
     <div class="event-card" style="margin: 30px 0;">
      <h3>üôè Tuesday Deliverance &amp; Counselling</h3>
      <p>Join us every Tuesday at 9:00 AM for a special service focused on deliverance, inner healing, and biblical counselling.</p>
      <div class="event-time">
       ‚è∞ Tuesdays at 9:00 AM
      </div>
     </div>
     <div class="event-card" style="margin: 30px 0;">
      <h3>üì± Tuesday Online Prayer</h3>
      <p>Can't make it physically? Join us online every Tuesday at 6:00 PM for powerful intercessory prayer via our social media platforms.</p>
      <div class="event-time">
       ‚è∞ Tuesdays at 6:00 PM (Online)
      </div>
     </div>
     <h3 style="color: #1e3a8a; margin: 40px 0 20px;">Submit Your Prayer Request</h3>
     <form id="prayerForm" onsubmit="handlePrayerForm(event)">
      <div class="form-group"><label for="prayerName">Your Name: *</label> <input type="text" id="prayerName" required>
      </div>
      <div class="form-group"><label for="prayerEmail">Email Address: *</label> <input type="email" id="prayerEmail" required>
      </div>
      <div class="form-group"><label for="prayerPhone">Phone Number:</label> <input type="tel" id="prayerPhone" placeholder="Optional">
      </div>
      <div class="form-group"><label for="prayerRequest">Prayer Request: *</label> <textarea id="prayerRequest" placeholder="Share your prayer needs with us..." required></textarea>
      </div>
      <div class="form-group"><label for="prayerCategory">Category:</label> <select id="prayerCategory"> <option value="healing">Physical Healing</option> <option value="financial">Financial Breakthrough</option> <option value="family">Family/Marriage</option> <option value="career">Career/Business</option> <option value="spiritual">Spiritual Growth</option> <option value="deliverance">Deliverance</option> <option value="other">Other</option> </select>
      </div><button type="submit" class="btn" style="width: 100%;">üôè Submit Prayer Request</button>
     </form>
     <div class="contact-grid" style="margin-top: 40px;">
      <div class="contact-card">
       <div class="icon">
        ÔøΩÔøΩÔøΩ
       </div>
       <h3>Email Us</h3>
       <p><a href="mailto:pastorvalentineifedayo@gmail.com">pastorvalentineifedayo@gmail.com</a></p>
      </div>
      <div class="contact-card">
       <div class="icon">
        üì±
       </div>
       <h3>Call/WhatsApp</h3>
       <p>+234 816 994 8626</p>
       <p style="font-size: 0.9em; margin-top: 10px;">Available during service hours</p>
      </div>
     </div>
    </div>
   </section><!-- PARTNER SECTION -->
   <section id="partner" class="section">
    <div class="content-card">
     <h2>ü§ù Partner With Us</h2>
     <p style="font-size: 1.3em; text-align: center; color: #1e3a8a; margin: 20px 0;"><strong>Join our partnership family and become part of something greater!</strong></p>
     <div class="account-box">
      <h3>Why Become a Partner?</h3>
      <div style="background: rgba(255, 255, 255, 0.9); color: #1e3a8a; padding: 25px; border-radius: 12px; margin: 20px 0;">
       <p style="font-size: 1.1em; line-height: 1.9; margin-bottom: 15px;">As a ministry partner, you become part of our spiritual family and join us in fulfilling the Great Commission. Your partnership enables us to reach more souls, disciple believers, and transform communities with the Gospel.</p>
       <ul style="margin-left: 30px; font-size: 1.1em; line-height: 2;">
        <li>‚úÖ Monthly prophetic ministry and teachings</li>
        <li>‚úÖ Priority prayer support from our intercession team</li>
        <li>‚úÖ Access to exclusive partner events and gatherings</li>
        <li>‚úÖ Monthly partnership newsletters and updates</li>
        <li>‚úÖ Spiritual covering and mentorship</li>
        <li>‚úÖ Invitation to special partner prayer &amp; fasting</li>
       </ul>
      </div>
     </div>
     <h3 style="color: #1e3a8a; text-align: center; margin: 40px 0 20px;">Register as a Partner</h3>
     <form id="partnerForm" onsubmit="handlePartnerRegistration(event)">
      <div class="form-group"><label for="partnerName">Full Name: *</label> <input type="text" id="partnerName" required>
      </div>
      <div class="form-group"><label for="partnerEmail">Email Address: *</label> <input type="email" id="partnerEmail" required>
      </div>
      <div class="form-group"><label for="partnerPhone">Phone Number: *</label> <input type="tel" id="partnerPhone" required>
      </div>
      <div class="form-group"><label for="partnerAddress">Home Address:</label> <input type="text" id="partnerAddress" placeholder="Optional">
      </div>
      <div class="form-group"><label for="partnerMessage">Why do you want to partner with us?</label> <textarea id="partnerMessage" placeholder="Share your heart with us..."></textarea>
      </div><button type="submit" class="btn" style="width: 100%;">ü§ù Register as Partner</button>
     </form>
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #f59e0b;">
      <h3 style="color: #92400e; text-align: center; margin-bottom: 15px;">üíé Saturday Partners Prayer &amp; Fasting</h3>
      <p style="color: #78350f; text-align: center; font-size: 1.1em;">All partners are invited to join us every Saturday at 6:00 PM for powerful prayer and fasting. Together we intercede for the ministry vision, your personal needs, and kingdom advancement.</p>
     </div>
    </div>
   </section><!-- ADMIN SETTINGS SECTION -->
   <section id="admin-settings" class="section">
    <div class="content-card">
     <h2 style="color: #f59e0b; text-align: center;">‚öôÔ∏è Admin Settings &amp; Controls</h2>
     <p style="text-align: center; color: #78350f; font-size: 1.1em; margin-bottom: 40px;">üëë Manage all church content, media, and settings from this admin panel</p><!-- Upload Logo Section -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üñºÔ∏è Update Church Logo</h3>
      <form id="logoUploadForm" onsubmit="handleLogoUpload(event)">
       <div class="form-group"><label for="logoFile">Upload Logo from Computer: *</label> <input type="file" id="logoFile" accept="image/*" required style="padding: 10px; border: 2px dashed #f59e0b; background: #fffbeb;"> <small style="display: block; margin-top: 5px; color: #78350f;"> üìÅ Select a logo image from your computer (JPG, PNG, GIF) </small>
        <div id="logoPreview" style="margin-top: 15px; display: none;">
         <p style="color: #78350f; font-weight: 600; margin-bottom: 10px;">Preview:</p><img id="logoPreviewImage" style="max-width: 150px; max-height: 150px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        </div>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üì§ Update Logo</button>
      </form>
     </div><!-- Update Hero Banner Section -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üñºÔ∏è Update Hero Banner Image</h3>
      <form id="heroBannerForm" onsubmit="handleHeroBannerUpload(event)">
       <div class="form-group"><label for="heroBannerFile">Upload Banner from Computer: *</label> <input type="file" id="heroBannerFile" accept="image/*" required style="padding: 10px; border: 2px dashed #f59e0b; background: #fffbeb;"> <small style="display: block; margin-top: 5px; color: #78350f;"> üìÅ Select a banner image from your computer (JPG, PNG, GIF) </small>
        <div id="bannerPreview" style="margin-top: 15px; display: none;">
         <p style="color: #78350f; font-weight: 600; margin-bottom: 10px;">Preview:</p><img id="bannerPreviewImage" style="max-width: 100%; max-height: 200px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        </div>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üì§ Update Banner</button>
      </form>
     </div><!-- Update Prophet Photo Section -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üë§ Update Pastor's Photo</h3>
      <form id="prophetPhotoForm" onsubmit="handleProphetPhotoUpload(event)">
       <div class="form-group"><label for="prophetPhotoFile">Upload Pastor Photo from Computer: *</label> <input type="file" id="prophetPhotoFile" accept="image/*" required style="padding: 10px; border: 2px dashed #f59e0b; background: #fffbeb;"> <small style="display: block; margin-top: 5px; color: #78350f;"> üìÅ Select the pastor's photo from your computer (JPG, PNG, GIF) </small>
        <div id="prophetPhotoPreview" style="margin-top: 15px; display: none;">
         <p style="color: #78350f; font-weight: 600; margin-bottom: 10px;">Preview:</p><img id="prophetPhotoPreviewImage" style="max-width: 250px; max-height: 250px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        </div>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üì§ Update Photo</button>
      </form>
     </div><!-- Update About Us Content -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üìù Update About Us Content</h3>
      <form id="aboutContentForm" onsubmit="handleAboutContentUpdate(event)">
       <div class="form-group"><label for="churchStory">Church Story:</label> <textarea id="churchStory" rows="5" placeholder="Tell the story of how the church was founded..."></textarea>
       </div>
       <div class="form-group"><label for="churchVision">Church Vision: *</label> <textarea id="churchVision" rows="4" placeholder="Share the vision for the church..." required></textarea>
       </div>
       <div class="form-group"><label for="churchMission">Church Mission: *</label> <textarea id="churchMission" rows="4" placeholder="Describe the church's mission..." required></textarea>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üíæ Update About Content</button>
      </form>
     </div><!-- Update Social Media Links -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üîó Update Social Media Links</h3>
      <form id="socialLinksForm" onsubmit="handleSocialLinksUpdate(event)">
       <div class="form-group"><label for="facebookLink">Facebook Page URL:</label> <input type="url" id="facebookLink" placeholder="https://facebook.com/YourChurch">
       </div>
       <div class="form-group"><label for="youtubeLink">YouTube Channel URL:</label> <input type="url" id="youtubeLink" placeholder="https://youtube.com/@YourChannel">
       </div>
       <div class="form-group"><label for="tiktokLink">TikTok Profile URL:</label> <input type="url" id="tiktokLink" placeholder="https://tiktok.com/@yourprofile">
       </div>
       <div class="form-group"><label for="twitchLink">Twitch Channel URL:</label> <input type="url" id="twitchLink" placeholder="https://twitch.tv/yourchannel">
       </div>
       <div class="form-group"><label for="whatsappLink">WhatsApp Group Link (General): *</label> <input type="url" id="whatsappLink" placeholder="https://chat.whatsapp.com/xxxxx" required> <small style="display: block; margin-top: 5px; color: #78350f;"> Get your WhatsApp group invite link from Group Info ‚Üí Invite via link </small>
       </div>
       <div class="form-group"><label for="partnerWhatsappLink">WhatsApp Group Link (Partners Only): *</label> <input type="url" id="partnerWhatsappLink" placeholder="https://chat.whatsapp.com/xxxxx" required> <small style="display: block; margin-top: 5px; color: #78350f;"> üì± This exclusive link will be sent to partners after they register </small>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üíæ Update Social Links</button>
      </form>
     </div><!-- Media Upload Section -->
     <div style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #3b82f6; display: block;" id="adminMediaUploadSection">
      <h3 style="color: #1e3a8a; margin-bottom: 20px; text-align: center;">üì§ Upload Videos &amp; Images</h3>
      <p style="text-align: center; color: #1e3a8a; margin-bottom: 25px;">Add church videos, service photos, and event images to the Media Gallery</p>
      <form id="adminMediaUploadForm" onsubmit="handleAdminMediaUpload(event)">
       <div class="form-group"><label for="adminMediaType">Media Type: *</label> <select id="adminMediaType" required onchange="toggleAdminMediaFields()"> <option value="">-- Select Type --</option> <option value="video">Video (YouTube/Facebook Link)</option> <option value="image">Image (Upload Photo)</option> </select>
       </div>
       <div class="form-group" id="adminCategoryGroup"><label for="adminMediaCategory">Category: *</label> <select id="adminMediaCategory" required> <option value="">-- Select Category --</option> <option value="recent-sermons">Recent Sermons</option> <option value="fire-night">Fire Night Highlights</option> <option value="youth-fellowship">Youth Fellowship</option> <option value="church-photos">Church Photos</option> <option value="events">Events &amp; Celebrations</option> </select>
       </div>
       <div class="form-group" id="adminVideoUrlGroup" style="display: none;"><label for="adminVideoUrl">Video URL: *</label> <input type="text" id="adminVideoUrl" placeholder="Paste YouTube or Facebook video link"> <small style="display: block; margin-top: 5px; color: #1e3a8a;">Example: https://www.youtube.com/watch?v=...</small>
       </div>
       <div class="form-group" id="adminImageUrlGroup" style="display: none;"><label for="adminImageFile">Upload Image from Computer: *</label> <input type="file" id="adminImageFile" accept="image/*" style="padding: 10px; border: 2px dashed #60a5fa; background: #f0f9ff;"> <small style="display: block; margin-top: 5px; color: #1e3a8a;">üìÅ Select an image file from your computer (JPG, PNG, GIF)</small>
        <div id="imagePreview" style="margin-top: 15px; display: none;">
         <p style="color: #1e3a8a; font-weight: 600; margin-bottom: 10px;">Preview:</p><img id="previewImage" style="max-width: 300px; max-height: 200px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        </div>
       </div>
       <div class="form-group"><label for="adminMediaTitle">Title: *</label> <input type="text" id="adminMediaTitle" placeholder="e.g., Sunday Service - January 2024" required>
       </div>
       <div class="form-group"><label for="adminMediaDescription">Description:</label> <textarea id="adminMediaDescription" placeholder="Brief description of this media..."></textarea>
       </div><button type="submit" class="btn" style="width: 100%;">üì§ Upload Media</button>
      </form>
     </div><!-- View All Partners -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px; text-align: center;">ü§ù Ministry Partners</h3><button onclick="loadAndDisplayPartners()" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üë• View All Partners</button>
      <div id="partnersList" style="margin-top: 20px;"></div>
     </div><!-- View All Prayer Requests -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px; text-align: center;">üôè Prayer Requests</h3><button onclick="loadAndDisplayPrayerRequests()" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">ÔøΩÔøΩ View All Prayer Requests</button>
      <div id="prayerRequestsList" style="margin-top: 20px;"></div>
     </div><!-- Live Status Toggle -->
     <div style="background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #dc2626;">
      <h3 style="color: #7f1d1d; margin-bottom: 20px;">üî¥ Live Streaming Status</h3>
      <p style="color: #7f1d1d; margin-bottom: 20px;">Control when the "WE ARE LIVE NOW" banner appears on the home page and media page for all visitors.</p>
      <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
       <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 20px;">
        <div>
         <h4 style="color: #1e3a8a; margin-bottom: 10px; font-size: 1.3em;">Current Status: <span id="liveStatusText" style="color: #dc2626;">‚óè OFFLINE</span></h4>
         <p style="color: #6b7280; margin: 0;">Toggle this ON when you start streaming live, and OFF when you finish.</p>
        </div>
        <div style="display: flex; gap: 15px;"><button onclick="setLiveStatus(true)" class="btn" style="background: #dc2626; padding: 15px 30px; font-size: 1.1em;">üî¥ GO LIVE</button> <button onclick="setLiveStatus(false)" class="btn" style="background: #6b7280; padding: 15px 30px; font-size: 1.1em;">‚ö´ END LIVE</button>
        </div>
       </div>
      </div>
      <div style="background: rgba(220, 38, 38, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; border-left: 4px solid #dc2626;">
       <p style="color: #7f1d1d; font-size: 0.95em; margin: 0;">üí° <strong>How it works:</strong><br>
         ‚Ä¢ Click "GO LIVE" when you start streaming ‚Üí The live banner appears for all visitors<br>
         ‚Ä¢ Click "END LIVE" when you finish ‚Üí The banner disappears<br>
         ‚Ä¢ Make sure you've configured your live stream URLs below first!</p>
      </div>
     </div><!-- Live Stream URLs Configuration -->
     <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 15px; margin: 30px 0; border: 3px solid #f59e0b;">
      <h3 style="color: #78350f; margin-bottom: 20px;">üîó Configure Live Stream URLs</h3>
      <p style="color: #78350f; margin-bottom: 20px;">Set up your live streaming links for YouTube, Facebook, and TikTok. These will be used when members click the live stream buttons.</p>
      <form id="liveStreamUrlsForm" onsubmit="handleLiveStreamUrlsUpdate(event)">
       <div class="form-group"><label for="youtubeLiveUrl">YouTube Live URL:</label> <input type="url" id="youtubeLiveUrl" placeholder="https://www.youtube.com/watch?v=..."> <small style="display: block; margin-top: 5px; color: #78350f;"> üì∫ Paste your YouTube live stream or video URL (e.g., https://www.youtube.com/watch?v=xxxxx) </small>
       </div>
       <div class="form-group"><label for="facebookLiveUrl">Facebook Live URL:</label> <input type="url" id="facebookLiveUrl" placeholder="https://www.facebook.com/..."> <small style="display: block; margin-top: 5px; color: #78350f;"> üìò Paste your Facebook live video URL (make sure the video is set to Public) </small>
       </div>
       <div class="form-group"><label for="tiktokLiveUrl">TikTok Video URL:</label> <input type="url" id="tiktokLiveUrl" placeholder="https://www.tiktok.com/@username/video/..."> <small style="display: block; margin-top: 5px; color: #78350f;"> üéµ Paste your TikTok video URL (Note: TikTok embeds work best on mobile) </small>
       </div>
       <div style="background: rgba(251, 191, 36, 0.2); padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #f59e0b;">
        <p style="color: #78350f; font-size: 0.95em; margin: 0;">üí° <strong>Pro Tips:</strong><br>
          ‚Ä¢ Update these URLs before each live service<br>
          ‚Ä¢ YouTube: Use your live stream URL or any uploaded video<br>
          ÔøΩÔøΩÔøΩ Facebook: Make sure your live video is set to Public visibility<br>
          ‚Ä¢ TikTok: Works best when members view directly on TikTok app</p>
       </div><button type="submit" class="btn" style="width: 100%; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">üíæ Save Live Stream URLs</button>
      </form>
     </div>
    </div>
   </section><!-- ACCOUNT SECTION -->
   <section id="account" class="section">
    <div class="content-card">
     <h2 style="text-align: center;">üë§ My Account</h2>
     <p style="font-size: 1.1em; text-align: center; margin-bottom: 30px; color: #4b5563;" id="accountWelcome">Welcome to your account dashboard</p>
     <div class="account-box" id="accountDetailsBox">
      <h3>üìã Account Information</h3>
      <div class="account-details">
       <p><strong>Name:</strong> <span id="accountName">Loading...</span></p>
       <p><strong>Email:</strong> <span id="accountEmail">Loading...</span></p>
       <p><strong>Phone:</strong> <span id="accountPhone">Loading...</span></p>
       <p><strong>Account Type:</strong> <span id="accountType">Loading...</span></p>
       <p><strong>Member Since:</strong> <span id="accountRegistered">Loading...</span></p>
      </div>
     </div>
     <div style="text-align: center; margin-top: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"><button class="btn" onclick="openEditAccountModal()">‚úèÔ∏è Edit Account Details</button> <button class="btn" style="background: #dc2626;" onclick="handleLogout()">üö™ Logout</button>
     </div>
    </div>
   </section><!-- CONTACT SECTION -->
   <section id="contact" class="section">
    <div class="content-card">
     <h2>Contact Us</h2>
     <p style="font-size: 1.2em; text-align: center; margin-bottom: 30px;">We'd love to hear from you! Reach out to us through any of the following channels.</p>
     <div class="contact-grid">
      <div class="contact-card">
       <div class="icon">
        üìç
       </div>
       <h3>Our Location</h3>
       <p>Ughele Junction</p>
       <p>Along Ado Road</p>
       <p>Akure, Ondo State</p>
       <p>Nigeria</p>
      </div>
      <div class="contact-card">
       <div class="icon">
        üì±
       </div>
       <h3>Phone</h3>
       <p>+234 816 994 8626</p>
       <p style="margin-top: 10px;">Available during office hours</p>
      </div>
      <div class="contact-card">
       <div class="icon">
        üìß
       </div>
       <h3>Email</h3>
       <p><a href="mailto:pastorvalentineifedayo@gmail.com">pastorvalentineifedayo@gmail.com</a></p>
       <p style="margin-top: 10px;">We respond within 24 hours</p>
      </div>
     </div>
     <h3 style="color: #1e3a8a; text-align: center; margin: 50px 0 25px; font-size: 2em;">Connect With Us</h3>
     <div class="social-links"><a href="https://facebook.com" target="_blank" rel="noopener noreferrer" class="social-btn facebook" title="Facebook">
       <svg viewbox="0 0 24 24" width="35" height="35" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
       </svg></a> <a href="https://youtube.com" target="_blank" rel="noopener noreferrer" class="social-btn youtube" title="YouTube">
       <svg viewbox="0 0 24 24" width="35" height="35" fill="white"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
       </svg></a> <a href="https://tiktok.com" target="_blank" rel="noopener noreferrer" class="social-btn tiktok" title="TikTok">
       <svg viewbox="0 0 24 24" width="35" height="35" fill="white"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z" />
       </svg></a> <a href="https://twitch.tv" target="_blank" rel="noopener noreferrer" class="social-btn twitch" title="Twitch">
       <svg viewbox="0 0 24 24" width="35" height="35" fill="white"><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z" />
       </svg></a> <a href="https://chat.whatsapp.com/your-group-link" target="_blank" rel="noopener noreferrer" class="social-btn whatsapp" title="WhatsApp Group">
       <svg viewbox="0 0 24 24" width="35" height="35" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" />
       </svg></a>
     </div>
     <h3 style="color: #1e3a8a; margin: 50px 0 20px;">Send Us a Message</h3>
     <form id="contactForm" onsubmit="handleContactForm(event)">
      <div class="form-group"><label for="contactName">Your Name: *</label> <input type="text" id="contactName" required>
      </div>
      <div class="form-group"><label for="contactEmail">Email Address: *</label> <input type="email" id="contactEmail" required>
      </div>
      <div class="form-group"><label for="contactSubject">Subject: *</label> <input type="text" id="contactSubject" placeholder="What is your message about?" required>
      </div>
      <div class="form-group"><label for="contactMessage">Message: *</label> <textarea id="contactMessage" placeholder="Write your message here..." required></textarea>
      </div><button type="submit" class="btn" style="width: 100%;">üìß Send Message</button>
     </form>
    </div>
   </section>
  </main>
  <footer>
   <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1200px; margin: 0 auto 30px; padding: 0 20px;">
    <div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);"><img src="https://lh3.googleusercontent.com/d/1NvHVmaJMBA4rucIu6fbE4PIoMLobhmsg" alt="Church Gallery" style="width: 100%; height: 250px; object-fit: cover;" onerror="this.style.display='none'">
    </div>
    <div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);"><img src="https://lh3.googleusercontent.com/d/18PUaKOEJf7SQvbcDsr8m82l6FxqIcXV_" alt="Church Community" style="width: 100%; height: 250px; object-fit: cover;" onerror="this.style.display='none'">
    </div>
   </div>
   <p class="slogan">"Raising Vibrant Believers for Kingdom Impact"</p>
   <p><strong>Vibrant Impact Ministries</strong></p>
   <p>Ughele Junction, Along Ado Road, Akure, Ondo State, Nigeria</p>
   <p>üìß pastorvalentineifedayo@gmail.com | üì± +234 816 994 8626</p>
   <p style="margin-top: 20px;">¬© 2024 Vibrant Impact Ministries. All Rights Reserved.</p>
   <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.8;">Powered by God's Grace</p>
  </footer>
  <script>
    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBYwJ4PjGyycAzUS7iyTrTRpIUcKLAvPVE",
      authDomain: "vim-p-cc4be.firebaseapp.com",
      projectId: "vim-p-cc4be",
      storageBucket: "vim-p-cc4be.firebasestorage.app",
      messagingSenderId: "444991156114",
      appId: "1:444991156114:web:a6c5425cf3a9aa91369b4b",
      measurementId: "G-V0BVRB9WRR"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
    const storage = firebase.storage();

    // Store media items and users
    let mediaItems = [];
    let partners = [];
    let currentUser = null;
    let socialLinks = {
      facebook: 'https://facebook.com/VibrantImpactMinistries',
      youtube: 'https://youtube.com/@ProphetValentineIfedayoChannel',
      tiktok: 'https://tiktok.com/@prophet_valentineifedayo',
      twitch: 'https://twitch.tv/vibrantimpactministries',
      whatsapp: 'https://chat.whatsapp.com/your-group-link'
    };

    // Authorized admin emails
    const ADMIN_EMAILS = ['eiweh123@gmail.com', 'vibrantchannel286@gmail.com'];

    // Check Firebase authentication state
    auth.onAuthStateChanged(async (user) => {
      if (user) {
        // User is signed in
        const userDoc = await db.collection('users').doc(user.uid).get();
        if (userDoc.exists) {
          const userData = userDoc.data();
          currentUser = {
            uid: user.uid,
            name: userData.name,
            email: user.email,
            phone: userData.phone,
            isAdmin: ADMIN_EMAILS.includes(user.email)
          };
        } else {
          // If user doc doesn't exist yet, create basic currentUser object
          currentUser = {
            uid: user.uid,
            name: user.displayName || 'User',
            email: user.email,
            phone: '',
            isAdmin: ADMIN_EMAILS.includes(user.email)
          };
        }
      } else {
        currentUser = null;
      }
      updateUserInterface();
    });

    // Load saved settings on page load
    window.addEventListener('DOMContentLoaded', function() {
      loadSavedLogo();
      loadSavedHeroBanner();
      loadSavedProphetPhoto();
      loadSocialLinks();
      loadMediaItems();
      loadPartners();
      loadAboutContent();
      startFireNightCountdown();
    });

    // Calculate next Fire Night (last Friday of the month at 10:00 PM)
    function getNextFireNight() {
      const now = new Date();
      const currentYear = now.getFullYear();
      const currentMonth = now.getMonth();
      
      // Get last day of current month
      const lastDayOfMonth = new Date(currentYear, currentMonth + 1, 0);
      const lastDay = lastDayOfMonth.getDate();
      
      // Find the last Friday of the month
      let lastFriday = lastDay;
      const lastDayWeekday = lastDayOfMonth.getDay();
      
      if (lastDayWeekday < 5) {
        // If last day is before Friday, go back to previous Friday
        lastFriday = lastDay - (lastDayWeekday + 2);
      } else if (lastDayWeekday > 5) {
        // If last day is after Friday, go back to the Friday
        lastFriday = lastDay - (lastDayWeekday - 5);
      }
      
      // Create Fire Night date at 10:00 PM
      const fireNight = new Date(currentYear, currentMonth, lastFriday, 22, 0, 0);
      
      // If Fire Night has passed this month, get next month's Fire Night
      if (now > fireNight) {
        const nextMonth = currentMonth + 1;
        const nextYear = nextMonth > 11 ? currentYear + 1 : currentYear;
        const adjustedMonth = nextMonth > 11 ? 0 : nextMonth;
        
        const nextLastDay = new Date(nextYear, adjustedMonth + 1, 0);
        const nextLastDayNum = nextLastDay.getDate();
        const nextLastDayWeekday = nextLastDay.getDay();
        
        let nextLastFriday = nextLastDayNum;
        if (nextLastDayWeekday < 5) {
          nextLastFriday = nextLastDayNum - (nextLastDayWeekday + 2);
        } else if (nextLastDayWeekday > 5) {
          nextLastFriday = nextLastDayNum - (nextLastDayWeekday - 5);
        }
        
        return new Date(nextYear, adjustedMonth, nextLastFriday, 22, 0, 0);
      }
      
      return fireNight;
    }

    // Update Fire Night countdown
    function updateFireNightCountdown() {
      const now = new Date().getTime();
      const fireNight = getNextFireNight().getTime();
      const distance = fireNight - now;
      
      if (distance < 0) {
        // Fire Night is happening now or just passed, recalculate
        const nextFireNight = getNextFireNight().getTime();
        const newDistance = nextFireNight - now;
        
        if (newDistance < 0) {
          document.getElementById('fireNightDays').textContent = '0';
          document.getElementById('fireNightHours').textContent = '0';
          document.getElementById('fireNightMinutes').textContent = '0';
          document.getElementById('fireNightSeconds').textContent = '0';
          return;
        }
        
        const days = Math.floor(newDistance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((newDistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((newDistance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((newDistance % (1000 * 60)) / 1000);
        
        document.getElementById('fireNightDays').textContent = days;
        document.getElementById('fireNightHours').textContent = hours;
        document.getElementById('fireNightMinutes').textContent = minutes;
        document.getElementById('fireNightSeconds').textContent = seconds;
        return;
      }
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      document.getElementById('fireNightDays').textContent = days;
      document.getElementById('fireNightHours').textContent = hours;
      document.getElementById('fireNightMinutes').textContent = minutes;
      document.getElementById('fireNightSeconds').textContent = seconds;
    }

    // Start countdown timer
    function startFireNightCountdown() {
      updateFireNightCountdown();
      setInterval(updateFireNightCountdown, 1000);
    }

    // Update user interface based on login status
    function updateUserInterface() {
      const userInfoDiv = document.getElementById('userInfo');
      const authNavBtn = document.getElementById('authNavBtn');
      const adminUploadSection = document.getElementById('adminUploadSection');

      if (currentUser) {
        const isAdmin = ADMIN_EMAILS.includes(currentUser.email);
        const badgeClass = isAdmin ? 'user-badge admin-badge' : 'user-badge';
        const badgeText = isAdmin ? 'üëë Admin' : 'üë§ Member';
        
        userInfoDiv.innerHTML = `
          <span class="${badgeClass}">${badgeText}: ${currentUser.name}</span>
          <button class="btn" style="padding: 8px 16px; font-size: 0.9em;" onclick="handleLogout()">üö™ Logout</button>
        `;
        
        authNavBtn.textContent = 'üë§ My Account';
        authNavBtn.onclick = () => showSection('account');

        // Show admin settings button only for admins
        const adminSettingsBtn = document.getElementById('adminSettingsBtn');
        if (adminSettingsBtn) {
          adminSettingsBtn.style.display = isAdmin ? 'block' : 'none';
        }
      } else {
        userInfoDiv.innerHTML = `
          <button class="btn" style="padding: 8px 16px; font-size: 0.9em;" onclick="openAuthModal()">üîê Login/Sign Up</button>
        `;
        authNavBtn.textContent = 'üîê Login/Sign Up';
        authNavBtn.onclick = openAuthModal;
        
        const adminSettingsBtn = document.getElementById('adminSettingsBtn');
        if (adminSettingsBtn) {
          adminSettingsBtn.style.display = 'none';
        }
      }
    }

    // Admin Modal Functions
    function openAdminModal() {
      document.getElementById('adminModal').classList.add('active');
    }

    function closeAdminModal() {
      document.getElementById('adminModal').classList.remove('active');
      document.getElementById('adminLoginForm').reset();
    }

    // Auth Modal Functions
    function openAuthModal() {
      document.getElementById('authModal').classList.add('active');
    }

    function closeAuthModal() {
      document.getElementById('authModal').classList.remove('active');
      document.getElementById('loginForm').reset();
      document.getElementById('signupForm').reset();
    }

    function switchAuthTab(tab) {
      const loginForm = document.getElementById('loginForm');
      const signupForm = document.getElementById('signupForm');
      const tabBtns = document.querySelectorAll('.tab-btn');

      tabBtns.forEach(btn => btn.classList.remove('active'));

      if (tab === 'login') {
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        tabBtns[0].classList.add('active');
      } else {
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
        tabBtns[1].classList.add('active');
      }
    }

    // Handle Admin Login
    async function handleAdminLogin(event) {
      event.preventDefault();

      const email = document.getElementById('adminEmail').value.toLowerCase().trim();
      const password = document.getElementById('adminPassword').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');
      
      // Check if email is authorized admin
      if (!ADMIN_EMAILS.includes(email)) {
        showToast('‚ùå Unauthorized! This email is not registered as an admin.', 'error');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Verifying admin...';

      try {
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        const userDoc = await db.collection('users').doc(userCredential.user.uid).get();
        
        if (userDoc.exists) {
          const userData = userDoc.data();
          showToast(`üëë Welcome back, Admin ${userData.name}! You have full access.`, 'success');
          closeAdminModal();
          showSection('media'); // Take admin to media section
        } else {
          // Create admin profile if it doesn't exist
          await db.collection('users').doc(userCredential.user.uid).set({
            name: 'Admin',
            email: email,
            phone: '',
            registeredAt: firebase.firestore.FieldValue.serverTimestamp(),
            isAdmin: true
          });
          showToast('üëë Welcome, Admin! Your admin account is now active.', 'success');
          closeAdminModal();
          showSection('media');
        }
      } catch (error) {
        console.error('Admin login error:', error);
        let errorMessage = '‚ùå Invalid admin credentials. Please try again.';
        
        if (error.code === 'auth/user-not-found') {
          errorMessage = '‚ùå Admin account not found. Please contact the system administrator.';
        } else if (error.code === 'auth/wrong-password') {
          errorMessage = '‚ùå Incorrect admin password. Please try again.';
        } else if (error.code === 'auth/invalid-email') {
          errorMessage = '‚ùå Invalid email format.';
        }
        
        showToast(errorMessage, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üëë Login as Admin';
      }
    }

    // Handle Login
    async function handleLogin(event) {
      event.preventDefault();

      const email = document.getElementById('loginEmail').value.toLowerCase().trim();
      const password = document.getElementById('loginPassword').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');
      
      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Logging in...';

      try {
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        const userDoc = await db.collection('users').doc(userCredential.user.uid).get();
        
        if (userDoc.exists) {
          const userData = userDoc.data();
          showToast(`‚úÖ Welcome back, ${userData.name}!`, 'success');
          closeAuthModal();
        }
      } catch (error) {
        console.error('Login error:', error);
        let errorMessage = '‚ùå Invalid email or password. Please try again.';
        
        if (error.code === 'auth/user-not-found') {
          errorMessage = '‚ùå No account found with this email. Please sign up first.';
        } else if (error.code === 'auth/wrong-password') {
          errorMessage = '‚ùå Incorrect password. Please try again.';
        } else if (error.code === 'auth/invalid-email') {
          errorMessage = '‚ùå Invalid email format.';
        }
        
        showToast(errorMessage, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üîê Login';
      }
    }

    // Handle Signup
    async function handleSignup(event) {
      event.preventDefault();

      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value.toLowerCase().trim();
      const phone = document.getElementById('signupPhone').value;
      const password = document.getElementById('signupPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      // Check if passwords match
      if (password !== confirmPassword) {
        showToast('‚ùå Passwords do not match. Please try again.', 'error');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Creating account...';

      try {
        // Create Firebase authentication user
        const userCredential = await auth.createUserWithEmailAndPassword(email, password);
        
        // Store additional user data in Firestore
        await db.collection('users').doc(userCredential.user.uid).set({
          name: name,
          email: email,
          phone: phone,
          registeredAt: firebase.firestore.FieldValue.serverTimestamp(),
          isAdmin: ADMIN_EMAILS.includes(email)
        });

        showToast(`‚úÖ Welcome to VIM, ${name}! Your account has been created.`, 'success');
        closeAuthModal();
      } catch (error) {
        console.error('Signup error:', error);
        let errorMessage = '‚ùå Failed to create account. Please try again.';
        
        if (error.code === 'auth/email-already-in-use') {
          errorMessage = '‚ùå This email is already registered. Please login instead.';
        } else if (error.code === 'auth/weak-password') {
          errorMessage = '‚ùå Password is too weak. Please use at least 6 characters.';
        } else if (error.code === 'auth/invalid-email') {
          errorMessage = '‚ùå Invalid email format.';
        }
        
        showToast(errorMessage, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '‚úÖ Sign Up';
      }
    }

    // Handle Logout
    function handleLogout() {
      const confirmBox = document.createElement('div');
      confirmBox.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 4000; text-align: center;';
      confirmBox.innerHTML = `
        <h3 style="color: #1e3a8a; margin-bottom: 20px;">Confirm Logout</h3>
        <p style="color: #4b5563; margin-bottom: 25px;">Are you sure you want to logout?</p>
        <div style="display: flex; gap: 15px; justify-content: center;">
          <button onclick="confirmLogout()" class="btn" style="padding: 10px 25px;">Yes, Logout</button>
          <button onclick="cancelLogout()" class="btn btn-secondary" style="padding: 10px 25px;">Cancel</button>
        </div>
      `;
      
      const overlay = document.createElement('div');
      overlay.id = 'logoutOverlay';
      overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3999;';
      overlay.appendChild(confirmBox);
      document.body.appendChild(overlay);
    }

    async function confirmLogout() {
      try {
        await auth.signOut();
        currentUser = null;
        showToast('üëã You have been logged out successfully.', 'success');
        document.getElementById('logoutOverlay').remove();
        showSection('home');
      } catch (error) {
        console.error('Logout error:', error);
        showToast('‚ùå Failed to logout. Please try again.', 'error');
        document.getElementById('logoutOverlay').remove();
      }
    }

    function cancelLogout() {
      document.getElementById('logoutOverlay').remove();
    }

    // Handle Partner Registration
    async function handlePartnerRegistration(event) {
      event.preventDefault();

      const name = document.getElementById('partnerName').value;
      const email = document.getElementById('partnerEmail').value;
      const phone = document.getElementById('partnerPhone').value;
      const address = document.getElementById('partnerAddress').value;
      const message = document.getElementById('partnerMessage').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Registering...';

      try {
        const partner = {
          name: name,
          email: email,
          phone: phone,
          address: address,
          message: message,
          paymentVerified: false,
          registeredAt: firebase.firestore.FieldValue.serverTimestamp()
        };

        // Save to Firestore
        await db.collection('partners').add(partner);

        // Send email notification to admin
        const subject = 'New Partner Registration - Vibrant Impact Ministries';
        const body = `New Partner Registration Details:%0D%0A%0D%0AName: ${name}%0D%0AEmail: ${email}%0D%0APhone: ${phone}%0D%0AAddress: ${address || 'Not provided'}%0D%0A%0D%0AMessage:%0D%0A${message || 'No message provided'}%0D%0A%0D%0ARegistered on: ${new Date().toLocaleString()}%0D%0A%0D%0A‚ö†Ô∏è Payment Status: PENDING - Partner needs to complete payment before receiving WhatsApp group access.`;
        const mailtoLink = `mailto:eiweh123@gmail.com,vibrantchannel286@gmail.com?subject=${subject}&body=${body}`;

        window.open(mailtoLink, '_blank');

        // Get partner WhatsApp group link from localStorage
        const partnerWhatsAppLink = localStorage.getItem('vimPartnerWhatsAppLink') || 'https://chat.whatsapp.com/partner-group-link';

        // Send WhatsApp message with payment instructions ONLY (no group link yet)
        const whatsappMessage = `Hello ${name}! ü§ù%0D%0A%0D%0AThank you for registering as a partner with Vibrant Impact Ministries!%0D%0A%0D%0Aüìã NEXT STEP - Complete Your Partnership Payment:%0D%0A%0D%0Aüè¶ Bank Details:%0D%0ABank: United Bank for Africa (UBA)%0D%0AAccount Number: 1025522432%0D%0AAccount Name: Valentine Ifedayo Ministries%0D%0A%0D%0A‚úÖ After making your payment, please:%0D%0A1. Take a screenshot of your payment receipt%0D%0A2. Send it to: pastorvalentineifedayo@gmail.com%0D%0A%0D%0Aüíé Once your payment is verified, you will receive:%0D%0A‚úÖ Exclusive Partners WhatsApp Group link%0D%0A‚úÖ Monthly prophetic ministry%0D%0A‚úÖ Priority prayer support%0D%0A‚úÖ Partner newsletters and updates%0D%0A‚úÖ Spiritual covering and mentorship%0D%0A%0D%0AWe look forward to partnering with you!%0D%0A%0D%0AGod bless you! üôè`;
        
        // Clean phone number (remove spaces, dashes, and country code variations)
        let cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
        if (cleanPhone.startsWith('0')) {
          cleanPhone = '234' + cleanPhone.substring(1);
        } else if (!cleanPhone.startsWith('234') && !cleanPhone.startsWith('+')) {
          cleanPhone = '234' + cleanPhone;
        }
        cleanPhone = cleanPhone.replace('+', '');

        const whatsappLink = `https://wa.me/${cleanPhone}?text=${whatsappMessage}`;
        
        // Open WhatsApp with pre-filled message
        setTimeout(() => {
          window.open(whatsappLink, '_blank');
        }, 500);

        showToast('ü§ù Thank you for partnering with us! An admin will contact you soon.', 'success');
        document.getElementById('partnerForm').reset();
        document.getElementById('customAmountGroup').style.display = 'none';
      } catch (error) {
        console.error('Partner registration error:', error);
        showToast('‚ùå Failed to register. Please try again.', 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'ü§ù Register as Partner';
      }
    }

    // Load partners from Firestore
    async function loadPartners() {
      try {
        const snapshot = await db.collection('partners').get();
        partners = snapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        }));
      } catch (error) {
        console.error('Error loading partners:', error);
      }
    }



    // Load saved logo
    function loadSavedLogo() {
      const savedLogoUrl = localStorage.getItem('vimLogoUrl');
      const logoImg = document.getElementById('churchLogo');
      const logoText = document.getElementById('logoText');
      
      if (savedLogoUrl && logoImg && logoText) {
        logoImg.src = savedLogoUrl;
        logoImg.style.display = 'block';
        logoText.style.display = 'none';
        
        logoImg.onerror = function() {
          this.style.display = 'none';
          logoText.style.display = 'block';
        };
      }
    }

    // Load saved hero banner
    function loadSavedHeroBanner() {
      const savedBannerUrl = localStorage.getItem('vimHeroBannerUrl');
      if (savedBannerUrl) {
        const hero = document.querySelector('.hero');
        if (hero) {
          hero.style.backgroundImage = `linear-gradient(135deg, rgba(30, 58, 138, 0.3) 0%, rgba(30, 64, 175, 0.4) 50%, rgba(30, 58, 138, 0.3) 100%), url('${savedBannerUrl}')`;
        }
      }
    }

    // Load saved prophet photo
    function loadSavedProphetPhoto() {
      const savedPhotoUrl = localStorage.getItem('vimProphetPhotoUrl');
      if (savedPhotoUrl) {
        const prophetPhoto = document.querySelector('.prophet-photo');
        if (prophetPhoto) {
          prophetPhoto.innerHTML = `<img src="${savedPhotoUrl}" alt="Prophet Valentine Ifedayo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;">`;
        }
      }
    }

    // Load saved about content
    function loadAboutContent() {
      const savedStory = localStorage.getItem('vimChurchStory');
      const savedVision = localStorage.getItem('vimChurchVision');
      const savedMission = localStorage.getItem('vimChurchMission');
      
      // Update about section content if saved data exists
      if (savedStory) {
        const storyElement = document.getElementById('churchStoryContent');
        if (storyElement) {
          storyElement.textContent = savedStory;
        }
      }
      
      if (savedVision) {
        const visionElement = document.getElementById('churchVisionContent');
        if (visionElement) {
          visionElement.textContent = savedVision;
        }
      }
      
      if (savedMission) {
        const missionElement = document.getElementById('churchMissionContent');
        if (missionElement) {
          missionElement.textContent = savedMission;
        }
      }
    }

    // Load social links
    function loadSocialLinks() {
      const socialBtns = document.querySelectorAll('.social-btn');
      socialBtns.forEach(btn => {
        if (btn.classList.contains('facebook')) btn.href = socialLinks.facebook;
        if (btn.classList.contains('youtube')) btn.href = socialLinks.youtube;
        if (btn.classList.contains('tiktok')) btn.href = socialLinks.tiktok;
        if (btn.classList.contains('twitch')) btn.href = socialLinks.twitch;
        if (btn.classList.contains('whatsapp')) btn.href = socialLinks.whatsapp;
      });

      // Update WhatsApp button in hero section
      const heroWhatsAppBtn = document.querySelector('.hero .btn-group a[href*="whatsapp"]');
      if (heroWhatsAppBtn) {
        heroWhatsAppBtn.href = socialLinks.whatsapp;
      }
    }

    // Toggle admin media form fields
    function toggleAdminMediaFields() {
      const mediaType = document.getElementById('adminMediaType').value;
      const videoUrlGroup = document.getElementById('adminVideoUrlGroup');
      const imageUrlGroup = document.getElementById('adminImageUrlGroup');
      
      if (mediaType === 'video') {
        videoUrlGroup.style.display = 'block';
        imageUrlGroup.style.display = 'none';
        document.getElementById('adminVideoUrl').required = true;
        document.getElementById('adminImageFile').required = false;
      } else if (mediaType === 'image') {
        videoUrlGroup.style.display = 'none';
        imageUrlGroup.style.display = 'block';
        document.getElementById('adminVideoUrl').required = false;
        document.getElementById('adminImageFile').required = true;
      } else {
        videoUrlGroup.style.display = 'none';
        imageUrlGroup.style.display = 'none';
      }
    }

    // Image file preview handlers
    document.addEventListener('DOMContentLoaded', function() {
      // Admin media upload preview
      const imageFileInput = document.getElementById('adminImageFile');
      if (imageFileInput) {
        imageFileInput.addEventListener('change', function(event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const previewImage = document.getElementById('previewImage');
              const imagePreview = document.getElementById('imagePreview');
              
              previewImage.src = e.target.result;
              imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // Logo preview
      const logoFileInput = document.getElementById('logoFile');
      if (logoFileInput) {
        logoFileInput.addEventListener('change', function(event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const previewImage = document.getElementById('logoPreviewImage');
              const imagePreview = document.getElementById('logoPreview');
              
              previewImage.src = e.target.result;
              imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // Banner preview
      const bannerFileInput = document.getElementById('heroBannerFile');
      if (bannerFileInput) {
        bannerFileInput.addEventListener('change', function(event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const previewImage = document.getElementById('bannerPreviewImage');
              const imagePreview = document.getElementById('bannerPreview');
              
              previewImage.src = e.target.result;
              imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // Prophet photo preview
      const prophetPhotoInput = document.getElementById('prophetPhotoFile');
      if (prophetPhotoInput) {
        prophetPhotoInput.addEventListener('change', function(event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const previewImage = document.getElementById('prophetPhotoPreviewImage');
              const imagePreview = document.getElementById('prophetPhotoPreview');
              
              previewImage.src = e.target.result;
              imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
          }
        });
      }
    });

    // Handle logo upload
    async function handleLogoUpload(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to upload.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('ÔøΩÔøΩÔøΩ Only admins can upload.', 'error');
        return;
      }

      const logoFile = document.getElementById('logoFile').files[0];
      const submitBtn = event.target.querySelector('button[type="submit"]');

      if (!logoFile) {
        showToast('‚ùå Please select a logo image file.', 'error');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Uploading...';

      try {
        // Upload to Firebase Storage
        const storageRef = storage.ref(`logos/${Date.now()}_${logoFile.name}`);
        const uploadTask = await storageRef.put(logoFile);
        const logoUrl = await uploadTask.ref.getDownloadURL();
        
        // Save to localStorage
        localStorage.setItem('vimLogoUrl', logoUrl);
        
        // Update logo display immediately
        const logoImg = document.getElementById('churchLogo');
        const logoText = document.getElementById('logoText');
        if (logoImg && logoText) {
          logoImg.src = logoUrl;
          logoImg.style.display = 'block';
          logoText.style.display = 'none';
        }

        // Try to save to Firestore (but don't fail if it doesn't work)
        try {
          await db.collection('settings').doc('logo').set({
            url: logoUrl,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ Church logo uploaded successfully!', 'success');
        document.getElementById('logoUploadForm').reset();
        document.getElementById('logoPreview').style.display = 'none';
      } catch (error) {
        console.error('Logo upload error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üì§ Update Logo';
      }
    }

    // Handle hero banner upload
    async function handleHeroBannerUpload(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to upload.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can upload.', 'error');
        return;
      }

      const bannerFile = document.getElementById('heroBannerFile').files[0];
      const submitBtn = event.target.querySelector('button[type="submit"]');

      if (!bannerFile) {
        showToast('‚ùå Please select a banner image file.', 'error');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Uploading...';

      try {
        // Upload to Firebase Storage
        const storageRef = storage.ref(`banners/${Date.now()}_${bannerFile.name}`);
        const uploadTask = await storageRef.put(bannerFile);
        const bannerUrl = await uploadTask.ref.getDownloadURL();
        
        // Save to localStorage
        localStorage.setItem('vimHeroBannerUrl', bannerUrl);
        
        // Update banner display immediately
        const hero = document.querySelector('.hero');
        if (hero) {
          hero.style.backgroundImage = `linear-gradient(135deg, rgba(30, 58, 138, 0.3) 0%, rgba(30, 64, 175, 0.4) 50%, rgba(30, 58, 138, 0.3) 100%), url('${bannerUrl}')`;
        }

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('heroBanner').set({
            url: bannerUrl,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ Hero banner uploaded successfully!', 'success');
        document.getElementById('heroBannerForm').reset();
        document.getElementById('bannerPreview').style.display = 'none';
      } catch (error) {
        console.error('Banner upload error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üì§ Update Banner';
      }
    }

    // Handle prophet photo upload
    async function handleProphetPhotoUpload(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to upload.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can upload.', 'error');
        return;
      }

      const photoFile = document.getElementById('prophetPhotoFile').files[0];
      const submitBtn = event.target.querySelector('button[type="submit"]');

      if (!photoFile) {
        showToast('‚ùå Please select a photo image file.', 'error');
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Uploading...';

      try {
        // Upload to Firebase Storage
        const storageRef = storage.ref(`photos/${Date.now()}_${photoFile.name}`);
        const uploadTask = await storageRef.put(photoFile);
        const photoUrl = await uploadTask.ref.getDownloadURL();
        
        // Save to localStorage
        localStorage.setItem('vimProphetPhotoUrl', photoUrl);
        
        // Update photo display immediately
        const prophetPhoto = document.querySelector('.prophet-photo');
        if (prophetPhoto) {
          prophetPhoto.innerHTML = `<img src="${photoUrl}" alt="Prophet Valentine Ifedayo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;">`;
        }

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('prophetPhoto').set({
            url: photoUrl,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ Pastor photo uploaded successfully!', 'success');
        document.getElementById('prophetPhotoForm').reset();
        document.getElementById('prophetPhotoPreview').style.display = 'none';
      } catch (error) {
        console.error('Photo upload error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üì§ Update Photo';
      }
    }

    // Handle about content update
    async function handleAboutContentUpdate(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to upload.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can upload.', 'error');
        return;
      }

      const story = document.getElementById('churchStory').value;
      const vision = document.getElementById('churchVision').value;
      const mission = document.getElementById('churchMission').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Saving...';

      try {
        // Save to localStorage
        localStorage.setItem('vimChurchStory', story);
        localStorage.setItem('vimChurchVision', vision);
        localStorage.setItem('vimChurchMission', mission);

        // Update content on page immediately
        if (story) {
          const storyElement = document.getElementById('churchStoryContent');
          if (storyElement) {
            storyElement.textContent = story;
          }
        }
        
        if (vision) {
          const visionElement = document.getElementById('churchVisionContent');
          if (visionElement) {
            visionElement.textContent = vision;
          }
        }
        
        if (mission) {
          const missionElement = document.getElementById('churchMissionContent');
          if (missionElement) {
            missionElement.textContent = mission;
          }
        }

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('aboutContent').set({
            story: story,
            vision: vision,
            mission: mission,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ About content updated successfully! Changes are now live.', 'success');
        document.getElementById('aboutContentForm').reset();
      } catch (error) {
        console.error('About content update error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üíæ Update About Content';
      }
    }

    // Handle social links update
    async function handleSocialLinksUpdate(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to upload.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can upload.', 'error');
        return;
      }

      const facebook = document.getElementById('facebookLink').value;
      const youtube = document.getElementById('youtubeLink').value;
      const tiktok = document.getElementById('tiktokLink').value;
      const twitch = document.getElementById('twitchLink').value;
      const whatsapp = document.getElementById('whatsappLink').value;
      const partnerWhatsapp = document.getElementById('partnerWhatsappLink').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Saving...';

      try {
        // Update global socialLinks object
        socialLinks = {
          facebook: facebook,
          youtube: youtube,
          tiktok: tiktok,
          twitch: twitch,
          whatsapp: whatsapp
        };

        // Save to localStorage
        localStorage.setItem('vimSocialLinks', JSON.stringify(socialLinks));
        localStorage.setItem('vimPartnerWhatsAppLink', partnerWhatsapp);

        // Update links on the page immediately
        loadSocialLinks();

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('socialLinks').set({
            facebook: facebook,
            youtube: youtube,
            tiktok: tiktok,
            twitch: twitch,
            whatsapp: whatsapp,
            partnerWhatsapp: partnerWhatsapp,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ Social media links updated successfully!', 'success');
        document.getElementById('socialLinksForm').reset();
      } catch (error) {
        console.error('Social links update error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üíæ Update Social Links';
      }
    }

    // Load and display partners
    async function loadAndDisplayPartners() {
      const partnersList = document.getElementById('partnersList');
      partnersList.innerHTML = '<p style="text-align: center; color: #78350f;">üîÑ Loading partners...</p>';

      try {
        const snapshot = await db.collection('partners').orderBy('registeredAt', 'desc').get();
        
        if (snapshot.empty) {
          partnersList.innerHTML = '<p style="text-align: center; color: #78350f;">No partners registered yet.</p>';
          return;
        }

        let html = '<div style="display: grid; gap: 15px; margin-top: 20px;">';
        snapshot.forEach(doc => {
          const partner = doc.data();
          const date = partner.registeredAt ? partner.registeredAt.toDate().toLocaleDateString() : 'N/A';
          html += `
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #f59e0b;">
              <h4 style="color: #1e3a8a; margin-bottom: 10px;">${partner.name}</h4>
              <p style="color: #4b5563; margin: 5px 0;"><strong>Email:</strong> ${partner.email}</p>
              <p style="color: #4b5563; margin: 5px 0;"><strong>Phone:</strong> ${partner.phone}</p>
              ${partner.address ? `<p style="color: #4b5563; margin: 5px 0;"><strong>Address:</strong> ${partner.address}</p>` : ''}
              <p style="color: #4b5563; margin: 5px 0;"><strong>Registered:</strong> ${date}</p>
              ${partner.message ? `<p style="color: #4b5563; margin: 10px 0 0;"><strong>Message:</strong><br>${partner.message}</p>` : ''}
            </div>
          `;
        });
        html += '</div>';
        
        partnersList.innerHTML = html;
      } catch (error) {
        console.error('Error loading partners:', error);
        partnersList.innerHTML = '<p style="text-align: center; color: #dc2626;">‚ùå Failed to load partners.</p>';
      }
    }

    // Load and display prayer requests
    async function loadAndDisplayPrayerRequests() {
      const prayerRequestsList = document.getElementById('prayerRequestsList');
      prayerRequestsList.innerHTML = '<p style="text-align: center; color: #78350f;">üîÑ Loading prayer requests...</p>';

      try {
        const snapshot = await db.collection('prayerRequests').orderBy('submittedAt', 'desc').get();
        
        if (snapshot.empty) {
          prayerRequestsList.innerHTML = '<p style="text-align: center; color: #78350f;">No prayer requests yet.</p>';
          return;
        }

        let html = '<div style="display: grid; gap: 15px; margin-top: 20px;">';
        snapshot.forEach(doc => {
          const request = doc.data();
          const date = request.submittedAt ? request.submittedAt.toDate().toLocaleDateString() : 'N/A';
          html += `
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid #3b82f6;">
              <h4 style="color: #1e3a8a; margin-bottom: 10px;">${request.name}</h4>
              <p style="color: #4b5563; margin: 5px 0;"><strong>Email:</strong> ${request.email}</p>
              ${request.phone ? `<p style="color: #4b5563; margin: 5px 0;"><strong>Phone:</strong> ${request.phone}</p>` : ''}
              <p style="color: #4b5563; margin: 5px 0;"><strong>Category:</strong> ${request.category}</p>
              <p style="color: #4b5563; margin: 5px 0;"><strong>Submitted:</strong> ${date}</p>
              <p style="color: #4b5563; margin: 10px 0 0;"><strong>Prayer Request:</strong><br>${request.request}</p>
            </div>
          `;
        });
        html += '</div>';
        
        prayerRequestsList.innerHTML = html;
      } catch (error) {
        console.error('Error loading prayer requests:', error);
        prayerRequestsList.innerHTML = '<p style="text-align: center; color: #dc2626;">‚ùå Failed to load prayer requests.</p>';
      }
    }

    // Handle admin media upload
    async function handleAdminMediaUpload(event) {
      event.preventDefault();
      
      const mediaType = document.getElementById('adminMediaType').value;
      const category = document.getElementById('adminMediaCategory').value;
      const title = document.getElementById('adminMediaTitle').value;
      const description = document.getElementById('adminMediaDescription').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Uploading...';
      
      try {
        const mediaItem = {
          type: mediaType,
          category: category,
          title: title,
          description: description,
          url: url,
          uploadedBy: currentUser.email,
          uploadedAt: firebase.firestore.FieldValue.serverTimestamp()
        };
        
        // Save to Firestore
        await db.collection('media').add(mediaItem);
        
        // Reload media items
        await loadMediaItems();
        
        showToast(`‚úÖ ${mediaType === 'video' ? 'Video' : 'Image'} uploaded successfully!`, 'success');
        document.getElementById('adminMediaUploadForm').reset();
        document.getElementById('adminVideoUrlGroup').style.display = 'none';
        document.getElementById('adminImageUrlGroup').style.display = 'none';
        document.getElementById('imagePreview').style.display = 'none';
      } catch (error) {
        console.error('Media upload error:', error);
        showToast('‚ùå Failed to upload media. Please try again.', 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üì§ Upload Media';
      }
    }

    // Load media items from Firestore
    async function loadMediaItems() {
      try {
        const snapshot = await db.collection('media').orderBy('uploadedAt', 'desc').get();
        mediaItems = snapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        }));

        // Clear all grids first
        const grids = ['recentSermonsGrid', 'fireNightGrid', 'youthFellowshipGrid', 'churchPhotosGrid', 'eventsGrid'];
        grids.forEach(gridId => {
          const grid = document.getElementById(gridId);
          if (grid) {
            grid.innerHTML = '';
          }
        });

        // Populate grids with media items
        mediaItems.forEach(item => {
          const gridId = getCategoryGridId(item.category);
          const grid = document.getElementById(gridId);
          
          if (grid) {
            const card = createMediaCard(item);
            grid.appendChild(card);
          }
        });

        // Add placeholder message if no media in a category
        grids.forEach(gridId => {
          const grid = document.getElementById(gridId);
          if (grid && grid.children.length === 0) {
            grid.innerHTML = `
              <div class="video-card">
                <div class="video-placeholder">üì§</div>
                <div class="video-content">
                  <h3>No Media Yet</h3>
                  <p>Admins can upload videos and images for this category.</p>
                </div>
              </div>
            `;
          }
        });
      } catch (error) {
        console.error('Error loading media:', error);
      }
    }

    // Get grid ID based on category
    function getCategoryGridId(category) {
      const mapping = {
        'recent-sermons': 'recentSermonsGrid',
        'fire-night': 'fireNightGrid',
        'youth-fellowship': 'youthFellowshipGrid',
        'church-photos': 'churchPhotosGrid',
        'events': 'eventsGrid'
      };
      return mapping[category] || 'recentSermonsGrid';
    }

    // Create media card
    function createMediaCard(item) {
      const card = document.createElement('div');
      card.className = 'video-card';
      card.id = `media-${item.id}`;
      
      let mediaContent = '';
      let downloadBtn = '';
      
      if (item.type === 'video') {
        let embedUrl = '';
        if (item.url.includes('youtube.com') || item.url.includes('youtu.be')) {
          const videoId = extractYouTubeId(item.url);
          embedUrl = `https://www.youtube.com/embed/${videoId}`;
        } else if (item.url.includes('facebook.com')) {
          embedUrl = `https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(item.url)}&show_text=false`;
        }
        
        mediaContent = `
          <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px;">
            <iframe src="${embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" frameborder="0" allowfullscreen></iframe>
          </div>
        `;
      } else {
        // Image with download button
        downloadBtn = currentUser ? `<button class="download-btn" onclick="downloadImage('${item.url}', '${item.title}')">‚¨áÔ∏è Download</button>` : '';
        mediaContent = `
          <div style="position: relative;">
            ${downloadBtn}
            <img src="${item.url}" alt="${item.title}" style="width: 100%; height: 250px; object-fit: cover;" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
          </div>
        `;
      }
      
      const deleteBtn = currentUser && ADMIN_EMAILS.includes(currentUser.email) 
        ? `<button onclick="deleteMedia(${item.id})" style="background: #dc2626; color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; margin-top: 10px; font-weight: 600;">üóëÔ∏è Delete</button>`
        : '';
      
      card.innerHTML = `
        ${mediaContent}
        <div class="video-content">
          <h3>${item.title}</h3>
          <p>${item.description || 'No description'}</p>
          ${deleteBtn}
        </div>
      `;
      
      return card;
    }

    // Download image function
    function downloadImage(url, filename) {
      fetch(url)
        .then(response => response.blob())
        .then(blob => {
          const link = document.createElement('a');
          link.href = URL.createObjectURL(blob);
          link.download = filename.replace(/[^a-z0-9]/gi, '_') + '.jpg';
          link.click();
          showToast('‚úÖ Image download started!', 'success');
        })
        .catch(err => {
          showToast('‚ùå Failed to download image. Please try again.', 'error');
        });
    }

    // Extract YouTube video ID
    function extractYouTubeId(url) {
      const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
      const match = url.match(regExp);
      return (match && match[2].length === 11) ? match[2] : '';
    }

    // Delete media item
    function deleteMedia(id) {
      const confirmBox = document.createElement('div');
      confirmBox.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 4000; text-align: center;';
      confirmBox.innerHTML = `
        <h3 style="color: #1e3a8a; margin-bottom: 20px;">Confirm Delete</h3>
        <p style="color: #4b5563; margin-bottom: 25px;">Are you sure you want to delete this media?</p>
        <div style="display: flex; gap: 15px; justify-content: center;">
          <button onclick="confirmDelete(${id})" class="btn" style="padding: 10px 25px; background: #dc2626;">Yes, Delete</button>
          <button onclick="cancelDelete()" class="btn btn-secondary" style="padding: 10px 25px;">Cancel</button>
        </div>
      `;
      
      const overlay = document.createElement('div');
      overlay.id = 'deleteOverlay';
      overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3999;';
      overlay.appendChild(confirmBox);
      document.body.appendChild(overlay);
    }

    async function confirmDelete(id) {
      try {
        // Delete from Firestore
        await db.collection('media').doc(id).delete();
        
        // Remove from UI
        const element = document.getElementById(`media-${id}`);
        if (element) {
          element.remove();
        }
        
        // Update local array
        mediaItems = mediaItems.filter(item => item.id !== id);
        
        showToast('‚úÖ Media deleted successfully!', 'success');
        document.getElementById('deleteOverlay').remove();
      } catch (error) {
        console.error('Delete error:', error);
        showToast('‚ùå Failed to delete media. Please try again.', 'error');
        document.getElementById('deleteOverlay').remove();
      }
    }

    function cancelDelete() {
      document.getElementById('deleteOverlay').remove();
    }

    // Toggle dropdown menu
    function toggleMenu() {
      const dropdown = document.getElementById('dropdownMenu');
      dropdown.classList.toggle('active');
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById('dropdownMenu');
      const menuToggle = document.querySelector('.menu-toggle');
      
      if (dropdown && menuToggle && !dropdown.contains(event.target) && !menuToggle.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });

    // Edit Account Modal Functions
    function openEditAccountModal() {
      if (!currentUser) {
        showToast('‚ùå Please login first to edit your account.', 'error');
        openAuthModal();
        return;
      }

      // Pre-fill the form with current user data
      document.getElementById('editName').value = currentUser.name || '';
      document.getElementById('editPhone').value = currentUser.phone || '';
      document.getElementById('editEmail').value = currentUser.email || '';
      
      document.getElementById('editAccountModal').classList.add('active');
    }

    function closeEditAccountModal() {
      document.getElementById('editAccountModal').classList.remove('active');
      document.getElementById('editAccountForm').reset();
    }

    // Handle Edit Account
    async function handleEditAccount(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to edit your account.', 'error');
        return;
      }

      const name = document.getElementById('editName').value;
      const phone = document.getElementById('editPhone').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Saving changes...';

      try {
        // Check if user document exists first
        const userDocRef = db.collection('users').doc(currentUser.uid);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
          // Update existing document
          await userDocRef.update({
            name: name,
            phone: phone,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp()
          });
        } else {
          // Create new document if it doesn't exist
          await userDocRef.set({
            name: name,
            email: currentUser.email,
            phone: phone,
            registeredAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            isAdmin: ADMIN_EMAILS.includes(currentUser.email)
          });
        }

        // Update currentUser object
        currentUser.name = name;
        currentUser.phone = phone;

        // Update UI header
        updateUserInterface();
        
        // Refresh account page details
        await loadAccountDetails();

        showToast('‚úÖ Your account details have been updated successfully!', 'success');
        closeEditAccountModal();
      } catch (error) {
        console.error('Edit account error:', error);
        showToast(`‚ùå Failed to update: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üíæ Save Changes';
      }
    }

    // Close modal when clicking outside
    document.getElementById('authModal').addEventListener('click', function(event) {
      if (event.target === this) {
        closeAuthModal();
      }
    });

    document.getElementById('adminModal').addEventListener('click', function(event) {
      if (event.target === this) {
        closeAdminModal();
      }
    });

    document.getElementById('editAccountModal').addEventListener('click', function(event) {
      if (event.target === this) {
        closeEditAccountModal();
      }
    });

    // Handle admin settings click with authentication check
    function handleAdminSettingsClick() {
      if (!currentUser) {
        showToast('‚ùå Please login as admin first to access settings.', 'error');
        openAdminModal();
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only authorized admins can access settings.', 'error');
        return;
      }

      showSection('admin-settings');
    }

    // Navigation function
    function showSection(sectionId) {
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => section.classList.remove('active'));

      const navButtons = document.querySelectorAll('.nav-btn');
      navButtons.forEach(btn => btn.classList.remove('active'));

      const selectedSection = document.getElementById(sectionId);
      if (selectedSection) {
        selectedSection.classList.add('active');
      }

      const activeButton = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
      if (activeButton) {
        activeButton.classList.add('active');
      }

      const dropdown = document.getElementById('dropdownMenu');
      if (dropdown) {
        dropdown.classList.remove('active');
      }

      // Load account details if showing account section
      if (sectionId === 'account') {
        loadAccountDetails();
      }

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Load account details
    async function loadAccountDetails() {
      if (!currentUser) {
        showToast('‚ùå Please login first to view your account.', 'error');
        openAuthModal();
        return;
      }

      // Update welcome message
      document.getElementById('accountWelcome').textContent = `Welcome, ${currentUser.name}!`;

      // Display user details
      document.getElementById('accountName').textContent = currentUser.name || 'Not provided';
      document.getElementById('accountEmail').textContent = currentUser.email || 'Not provided';
      document.getElementById('accountPhone').textContent = currentUser.phone || 'Not provided';
      
      const accountTypeText = ADMIN_EMAILS.includes(currentUser.email) ? 'üëë Admin' : 'üë§ Member';
      document.getElementById('accountType').textContent = accountTypeText;

      // Get registration date from Firestore
      try {
        const userDoc = await db.collection('users').doc(currentUser.uid).get();
        if (userDoc.exists) {
          const userData = userDoc.data();
          if (userData.registeredAt) {
            const registeredDate = userData.registeredAt.toDate().toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            });
            document.getElementById('accountRegistered').textContent = registeredDate;
          } else {
            document.getElementById('accountRegistered').textContent = 'Date not available';
          }
        }
      } catch (error) {
        console.error('Error loading registration date:', error);
        document.getElementById('accountRegistered').textContent = 'Date not available';
      }
    }

    // Toast notification function
    function showToast(message, type = 'success') {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.remove();
      }, 4000);
    }

    // Handle prayer form submission
    async function handlePrayerForm(event) {
      event.preventDefault();

      const name = document.getElementById('prayerName').value;
      const email = document.getElementById('prayerEmail').value;
      const phone = document.getElementById('prayerPhone').value;
      const request = document.getElementById('prayerRequest').value;
      const category = document.getElementById('prayerCategory').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Submitting...';

      try {
        // Save to Firestore
        await db.collection('prayerRequests').add({
          name: name,
          email: email,
          phone: phone,
          request: request,
          category: category,
          submittedAt: firebase.firestore.FieldValue.serverTimestamp()
        });

        // Also open email for admin notification
        const subject = `Prayer Request from ${name}`;
        const body = `Name: ${name}%0D%0AEmail: ${email}%0D%0APhone: ${phone || 'Not provided'}%0D%0ACategory: ${category}%0D%0A%0D%0APrayer Request:%0D%0A${request}`;
        const mailtoLink = `mailto:pastorvalentineifedayo@gmail.com?subject=${subject}&body=${body}`;
        window.open(mailtoLink, '_blank');

        showToast('üôè Your prayer request has been submitted successfully!', 'success');
        document.getElementById('prayerForm').reset();
      } catch (error) {
        console.error('Prayer request error:', error);
        showToast('‚ùå Failed to submit prayer request. Please try again.', 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üôè Submit Prayer Request';
      }
    }

    // Handle contact form submission
    function handleContactForm(event) {
      event.preventDefault();

      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const subject = document.getElementById('contactSubject').value;
      const message = document.getElementById('contactMessage').value;

      const mailSubject = `${subject} - From ${name}`;
      const body = `Name: ${name}%0D%0AEmail: ${email}%0D%0A%0D%0AMessage:%0D%0A${message}`;
      const mailtoLink = `mailto:pastorvalentineifedayo@gmail.com?subject=${mailSubject}&body=${body}`;

      window.open(mailtoLink, '_blank');

      showToast('üìß Your message has been prepared! Please send the email to complete.', 'success');
      document.getElementById('contactForm').reset();
    }

    // Live streaming functions
    function showLiveStream(platform) {
      const container = document.getElementById('liveStreamContainer');
      const embedDiv = document.getElementById('liveStreamEmbed');
      const title = document.getElementById('liveStreamTitle');
      const note = document.getElementById('liveStreamNote');

      // Get saved live stream URLs from localStorage
      const youtubeUrl = localStorage.getItem('vimYoutubeLiveUrl') || '';
      const facebookUrl = localStorage.getItem('vimFacebookLiveUrl') || '';
      const tiktokUrl = localStorage.getItem('vimTiktokLiveUrl') || '';

      let embedCode = '';
      let platformName = '';
      let noteText = '';

      if (platform === 'youtube') {
        platformName = 'üì∫ YouTube Live';
        if (youtubeUrl) {
          const videoId = extractYouTubeId(youtubeUrl);
          embedCode = `
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
              <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                      allowfullscreen>
              </iframe>
            </div>
          `;
          noteText = 'üî¥ Live stream from YouTube. If the stream has ended, you\'ll see the recorded video.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üì∫ YouTube Live stream link has not been configured yet.</p>
              ${currentUser && ADMIN_EMAILS.includes(currentUser.email) ? 
                '<p style="color: #3b82f6; font-weight: 600;">üëë As an admin, you can set the live stream URL in Admin Settings.</p>' : 
                '<p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>'}
            </div>
          `;
          noteText = '';
        }
      } else if (platform === 'facebook') {
        platformName = 'üìò Facebook Live';
        if (facebookUrl) {
          embedCode = `
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
              <iframe src="https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(facebookUrl)}&show_text=false&autoplay=1" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allowfullscreen 
                      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share">
              </iframe>
            </div>
          `;
          noteText = 'üî¥ Live stream from Facebook. Make sure the video is set to Public for viewing.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üìò Facebook Live stream link has not been configured yet.</p>
              ${currentUser && ADMIN_EMAILS.includes(currentUser.email) ? 
                '<p style="color: #3b82f6; font-weight: 600;">üëë As an admin, you can set the live stream URL in Admin Settings.</p>' : 
                '<p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>'}
            </div>
          `;
          noteText = '';
        }
      } else if (platform === 'tiktok') {
        platformName = 'üéµ TikTok Live';
        if (tiktokUrl) {
          embedCode = `
            <div style="position: relative; padding-bottom: 177.78%; height: 0; overflow: hidden; max-width: 605px; margin: 0 auto;">
              <iframe src="https://www.tiktok.com/embed/${extractTikTokId(tiktokUrl)}" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allow="encrypted-media" 
                      allowfullscreen>
              </iframe>
            </div>
          `;
          noteText = 'üî¥ TikTok Live stream. Note: TikTok lives are best viewed on mobile devices or the TikTok app.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üéµ TikTok Live stream link has not been configured yet.</p>
              ${currentUser && ADMIN_EMAILS.includes(currentUser.email) ? 
                '<p style="color: #3b82f6; font-weight: 600;">üëë As an admin, you can set the live stream URL in Admin Settings.</p>' : 
                '<p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>'}
              <p style="color: #6b7280; margin-top: 15px; font-size: 0.95em;">üí° Tip: TikTok lives work best when viewed directly on TikTok app or website.</p>
            </div>
          `;
          noteText = '';
        }
      }

      title.textContent = platformName;
      embedDiv.innerHTML = embedCode;
      note.textContent = noteText;
      container.style.display = 'block';

      // Scroll to live stream
      container.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function closeLiveStream() {
      const container = document.getElementById('liveStreamContainer');
      const embedDiv = document.getElementById('liveStreamEmbed');
      
      // Clear the embed to stop video playback
      embedDiv.innerHTML = '';
      container.style.display = 'none';
    }

    function extractTikTokId(url) {
      // Extract video ID from TikTok URL
      const match = url.match(/video\/(\d+)/);
      return match ? match[1] : '';
    }

    // Handle live stream URLs update
    async function handleLiveStreamUrlsUpdate(event) {
      event.preventDefault();

      if (!currentUser) {
        showToast('‚ùå Please login first to update.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can update live stream URLs.', 'error');
        return;
      }

      const youtubeUrl = document.getElementById('youtubeLiveUrl').value;
      const facebookUrl = document.getElementById('facebookLiveUrl').value;
      const tiktokUrl = document.getElementById('tiktokLiveUrl').value;
      const submitBtn = event.target.querySelector('button[type="submit"]');

      submitBtn.disabled = true;
      submitBtn.textContent = 'üîÑ Saving...';

      try {
        // Save to localStorage
        localStorage.setItem('vimYoutubeLiveUrl', youtubeUrl);
        localStorage.setItem('vimFacebookLiveUrl', facebookUrl);
        localStorage.setItem('vimTiktokLiveUrl', tiktokUrl);

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('liveStreamUrls').set({
            youtube: youtubeUrl,
            facebook: facebookUrl,
            tiktok: tiktokUrl,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        showToast('‚úÖ Live stream URLs updated successfully! Members can now watch your live streams.', 'success');
        document.getElementById('liveStreamUrlsForm').reset();
      } catch (error) {
        console.error('Live stream URLs update error:', error);
        showToast(`‚ùå Update failed: ${error.message}`, 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'üíæ Save Live Stream URLs';
      }
    }

    // Load saved live stream URLs when admin settings page opens
    function loadSavedLiveStreamUrls() {
      const youtubeUrl = localStorage.getItem('vimYoutubeLiveUrl') || '';
      const facebookUrl = localStorage.getItem('vimFacebookLiveUrl') || '';
      const tiktokUrl = localStorage.getItem('vimTiktokLiveUrl') || '';

      const youtubeInput = document.getElementById('youtubeLiveUrl');
      const facebookInput = document.getElementById('facebookLiveUrl');
      const tiktokInput = document.getElementById('tiktokLiveUrl');

      if (youtubeInput) youtubeInput.value = youtubeUrl;
      if (facebookInput) facebookInput.value = facebookUrl;
      if (tiktokInput) tiktokInput.value = tiktokUrl;
    }

    // Set live streaming status (admin only)
    async function setLiveStatus(isLive) {
      if (!currentUser) {
        showToast('‚ùå Please login as admin first.', 'error');
        return;
      }

      if (!ADMIN_EMAILS.includes(currentUser.email)) {
        showToast('‚ùå Only admins can control live status.', 'error');
        return;
      }

      try {
        // Save to localStorage
        localStorage.setItem('vimIsLive', isLive ? 'true' : 'false');

        // Try to save to Firestore
        try {
          await db.collection('settings').doc('liveStatus').set({
            isLive: isLive,
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedBy: currentUser.email
          });
        } catch (firestoreError) {
          console.log('Firestore save skipped:', firestoreError);
        }

        // Update UI immediately
        updateLiveStatusDisplay();

        const statusMessage = isLive 
          ? 'üî¥ LIVE! The banner is now visible to all visitors on the home page and media page.' 
          : '‚ö´ Stream ended. The live banner has been hidden from all visitors.';
        
        showToast(`‚úÖ ${statusMessage}`, 'success');
      } catch (error) {
        console.error('Live status update error:', error);
        showToast('‚ùå Failed to update live status. Please try again.', 'error');
      }
    }

    // Update live status display across the site
    function updateLiveStatusDisplay() {
      const isLive = localStorage.getItem('vimIsLive') === 'true';
      
      // Update home page live alert
      const homeLiveAlert = document.getElementById('homeLiveAlert');
      if (homeLiveAlert) {
        homeLiveAlert.style.display = isLive ? 'block' : 'none';
      }

      // Update media page live alert
      const mediaLiveAlert = document.getElementById('mediaLiveAlert');
      if (mediaLiveAlert) {
        mediaLiveAlert.style.display = isLive ? 'block' : 'none';
      }

      // Update admin settings status text
      const liveStatusText = document.getElementById('liveStatusText');
      if (liveStatusText) {
        if (isLive) {
          liveStatusText.innerHTML = 'üî¥ LIVE NOW';
          liveStatusText.style.color = '#dc2626';
        } else {
          liveStatusText.innerHTML = '‚ö´ OFFLINE';
          liveStatusText.style.color = '#6b7280';
        }
      }
    }

    // Load live stream URLs when page loads
    window.addEventListener('DOMContentLoaded', function() {
      loadSavedLiveStreamUrls();
      updateLiveStatusDisplay();
      
      // Check live status every 10 seconds for real-time updates
      setInterval(updateLiveStatusDisplay, 10000);
    });

    // Home page live streaming functions
    function showLiveStreamOnHome(platform) {
      const container = document.getElementById('homeLiveStreamContainer');
      const embedDiv = document.getElementById('homeLiveStreamEmbed');
      const title = document.getElementById('homeLiveStreamTitle');
      const note = document.getElementById('homeLiveStreamNote');

      // Get saved live stream URLs from localStorage
      const youtubeUrl = localStorage.getItem('vimYoutubeLiveUrl') || '';
      const facebookUrl = localStorage.getItem('vimFacebookLiveUrl') || '';
      const tiktokUrl = localStorage.getItem('vimTiktokLiveUrl') || '';

      let embedCode = '';
      let platformName = '';
      let noteText = '';

      if (platform === 'youtube') {
        platformName = 'üì∫ YouTube Live';
        if (youtubeUrl) {
          const videoId = extractYouTubeId(youtubeUrl);
          embedCode = `
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
              <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                      allowfullscreen>
              </iframe>
            </div>
          `;
          noteText = 'üî¥ Live stream from YouTube. If the stream has ended, you\'ll see the recorded video.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üì∫ YouTube Live stream link has not been configured yet.</p>
              <p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>
            </div>
          `;
          noteText = '';
        }
      } else if (platform === 'facebook') {
        platformName = 'üìò Facebook Live';
        if (facebookUrl) {
          embedCode = `
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
              <iframe src="https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(facebookUrl)}&show_text=false&autoplay=1" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allowfullscreen 
                      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share">
              </iframe>
            </div>
          `;
          noteText = 'üî¥ Live stream from Facebook. Make sure the video is set to Public for viewing.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üìò Facebook Live stream link has not been configured yet.</p>
              <p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>
            </div>
          `;
          noteText = '';
        }
      } else if (platform === 'tiktok') {
        platformName = 'üéµ TikTok Live';
        if (tiktokUrl) {
          embedCode = `
            <div style="position: relative; padding-bottom: 177.78%; height: 0; overflow: hidden; max-width: 605px; margin: 0 auto;">
              <iframe src="https://www.tiktok.com/embed/${extractTikTokId(tiktokUrl)}" 
                      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                      frameborder="0" 
                      allow="encrypted-media" 
                      allowfullscreen>
              </iframe>
            </div>
          `;
          noteText = 'üî¥ TikTok Live stream. Note: TikTok lives are best viewed on mobile devices or the TikTok app.';
        } else {
          embedCode = `
            <div style="background: #f3f4f6; padding: 40px; border-radius: 12px; text-align: center;">
              <p style="color: #6b7280; font-size: 1.1em; margin-bottom: 20px;">üéµ TikTok Live stream link has not been configured yet.</p>
              <p style="color: #6b7280;">Please contact the church admin to set up the live stream.</p>
              <p style="color: #6b7280; margin-top: 15px; font-size: 0.95em;">üí° Tip: TikTok lives work best when viewed directly on TikTok app or website.</p>
            </div>
          `;
          noteText = '';
        }
      }

      title.textContent = platformName;
      embedDiv.innerHTML = embedCode;
      note.textContent = noteText;
      container.style.display = 'block';

      // Scroll to live stream
      container.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function closeHomeLiveStream() {
      const container = document.getElementById('homeLiveStreamContainer');
      const embedDiv = document.getElementById('homeLiveStreamEmbed');
      
      // Clear the embed to stop video playback
      embedDiv.innerHTML = '';
      container.style.display = 'none';
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a5ef60946d63f1a',t:'MTc2NDM4NjM0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
